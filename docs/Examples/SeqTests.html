

<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>SeqTests - LinqCheck</title>

	<link rel="icon" type="image/x-icon" href="../images/favicon.ico">
    <link rel="stylesheet" href="../bootstrap/css/bootstrap.min.css" />
<link rel="stylesheet" href="../font-awesome/css/font-awesome.min.css">
<link rel="stylesheet" href="../sidebar/sidebar.min.css" />
<link rel="stylesheet" href="../css/modern.min.css" />
<link rel="stylesheet" href="../syntax-highlight/son-of-obsidian.min.css" />
<link rel="stylesheet" href="../mermaid/mermaid.css" />

</head>

<body>
    
    <nav class="navbar navbar-inverse">
        <div class="container-fluid">
            <div class="navbar-header">
                <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <a class="navbar-brand" href="../index.html"><span><img src="../images/LinqCheck.svg" height="24" />  LinqCheck</span></a>
            </div>
            <div id="navbar" class="navbar-collapse collapse">
                <ul class="nav navbar-nav">
                    <li><a href="../index.html"><i class="fa fa-home" aria-hidden="true"></i> Home</a></li>
					<li><a href="https://github.com/johtela/LinqCheck"><i class="fa fa-github" aria-hidden="true"></i> GitHub Repository</a></li>
                    <li><a href="../License.html">License</a></li>
                </ul>
            </div>
        </div>
    </nav>

    <div class="container">
        <div class="row">
            <div class="col-md-3 hidden-xs hidden-sm">
                
        <div class="panel panel-default">
            <div class="panel-heading">
                <h4>On This Page</h4>
            </div>
            <div id="header-menu" class="panel-body main-menu">
                <ul></ul>
            </div>
        </div>  
        <div class="panel panel-default">
            <div class="panel-heading">
                <h4>Table of Contents</h4>
            </div>
            <div class="panel-body main-menu">
                <ul>
	<li><a href="../index.html">Home</a></li>
	<ul>
		<li>LinqCheck home page.</li>
	</ul>
	<li><a href="../Examples/BasicTests.html">BasicTests</a></li>
	<ul>
		<li>TODO! Add page description.</li>
	</ul>
	<li><a href="../Examples/SeqTests.html" class="selected">SeqTests</a></li>
	<ul>
		<li>TODO! Add page description.</li>
	</ul>
	<li><a href="../Examples/RunTests.html">RunTests</a></li>
	<ul>
		<li>TODO! Add page description.</li>
	</ul>
	<li><a href="../src/Arbitrary.html">Arbitrary</a></li>
	<ul>
		<li>TODO! Add page description.</li>
	</ul>
	<li><a href="../src/Container.html">Container</a></li>
	<ul>
		<li>TODO! Add page description.</li>
	</ul>
	<li><a href="../src/DefaultArbitrary.html">DefaultArbitrary</a></li>
	<ul>
		<li>TODO! Add page description.</li>
	</ul>
	<li><a href="../src/Gen.html">Gen</a></li>
	<ul>
		<li>TODO! Add page description.</li>
	</ul>
	<li><a href="../src/Prop.html">Prop</a></li>
	<ul>
		<li>TODO! Add page description.</li>
	</ul>
	<li><a href="../src/Tester.html">Tester</a></li>
	<ul>
		<li>TODO! Add page description.</li>
	</ul>
	<li><a href="../src/TestState.html">TestState</a></li>
	<ul>
		<li>TODO! Add page description.</li>
	</ul>
	<li><a href="../License.html">License</a></li>
	<ul>
		<li>TODO! Add page description.</li>
	</ul>
</ul>
            </div>
        </div>

            </div>
			<div class="col-md-9">
				<ul class="pager">
	<li class="previous"><a href="../Examples/BasicTests.html">Previous: BasicTests</a></li>
	<li class="next"><a href="../Examples/RunTests.html">Next: RunTests</a></li>
</ul>
				<div id="static-content" class="markdown">
					<h1 id="adding-new-arbitrary-types">Adding New Arbitrary Types</h1>
<p>LinqCheck generates test input automatically for the common data types defined
in the .NET framework. This includes primitive types such as <code>bool</code>, <code>char</code>,
<code>int</code>, <code>long</code>, <code>float</code>, and <code>double</code> as well as compound data sructures like
arrays and IEnumerables. But often these are not enough. Your test data might
contain user-defined classes, structures, or interfaces.</p>
<p>The random data generation in LinqCheck is based on the idea of composing
complex data from simpler types. To demonstrate this idea we will generate some
tests for the <a href="https://johtela.github.io/ExtensionCord/src/Seq.html">Seq</a>
class defined in the <a href="https://johtela.github.io/ExtensionCord/">ExtensionCord</a>
library. This is an immutable, singly-linked list designed to be as simple as
possible, so it serves as a good example. The Seq class is also generic, which
allows us to show how tests can be written generically too.</p>
<p>First let's import all the required libraries and namespaces.</p>
<pre class="csharp"><code class="csharp"><span class="keyword" id="Examples">namespace</span> Examples
<span class="punctuation">{</span>
	<span class="keyword">using</span> System<span class="punctuation">;</span>
	<span class="keyword">using</span> System<span class="punctuation">.</span>Linq<span class="punctuation">;</span>
	<span class="keyword">using</span> ExtensionCord<span class="punctuation">;</span>
	<span class="keyword">using</span> LinqCheck<span class="punctuation">;</span>

	<span class="keyword" id="Examples.SeqTests">public</span> <span class="keyword">class</span> <span class="typename">SeqTests</span>
	<span class="punctuation">{</span>
</code></pre>
<h2 id="implementing-iarbitrary">Implementing IArbitrary<T></h2>
<p>There needs to be an implementation of <code>IArbitrary&lt;T&gt;</code> interface for
each type <code>T</code> we wish to use in our tests. This implementation generates
random values of type <code>T</code>, and shrinks them when LinqCheck is looking
for a minimal failing test case.</p>
<p>In this case we need to define an implementation of <code>IArbitrary&lt;Seq&lt;T&gt;&gt;</code>.
The easiest way to do that is to create an instance <code>Arbitrary&lt;T&gt;</code> class,
which stores the generator and shrinker for type <code>T</code>. Let's define a
method that does that.</p>
<pre class="csharp"><code class="csharp">		<span class="keyword" id="Examples.SeqTests.ArbitrarySeq<T>()" data-toggle="tooltip" title="Examples.SeqTests.ArbitrarySeq<T>()">public</span> <span class="keyword" data-toggle="tooltip" title="Examples.SeqTests.ArbitrarySeq<T>()">static</span> <span class="typename" data-toggle="tooltip" title="LinqCheck.Arbitrary<ExtensionCord.Seq<T>>"><a href="../src/Arbitrary.html#LinqCheck.Arbitrary<T>">Arbitrary</a></span><span class="punctuation">&lt;</span><span class="typename" data-toggle="tooltip" title="ExtensionCord.Seq<T>">Seq</span><span class="punctuation">&lt;</span><span class="typename" data-toggle="tooltip" title="T"><a href="../Examples/SeqTests.html#T">T</a></span><span class="punctuation">&gt;</span><span class="punctuation">&gt;</span> <span data-toggle="tooltip" title="Examples.SeqTests.ArbitrarySeq<T>()">ArbitrarySeq</span><span class="punctuation">&lt;</span><span class="typename"><a href="../Examples/SeqTests.html#T">T</a></span><span class="punctuation">&gt;</span> <span class="punctuation">(</span><span class="punctuation">)</span>
		<span class="punctuation">{</span>
</code></pre>
<p>We don't know yet what is the item type <code>T</code> which will be contained
in the Seq list. Luckily we don't have to, since we can get the
<code>IArbitrary&lt;T&gt;</code> implementation from LinqCheck assuming that one
is already registered for type <code>T</code>.</p>
<pre class="csharp"><code class="csharp">			<span class="keyword" data-toggle="tooltip" title="LinqCheck.IArbitrary<T>">var</span> <span id="arb">arb</span> <span class="punctuation">=</span> <span class="typename" data-toggle="tooltip" title="LinqCheck.Arbitrary"><a href="../src/Arbitrary.html#LinqCheck.Arbitrary">Arbitrary</a></span><span class="punctuation" data-toggle="tooltip" title="LinqCheck.Arbitrary.Get<T>()">.</span><span data-toggle="tooltip" title="LinqCheck.Arbitrary.Get<T>()"><a href="../src/Arbitrary.html#LinqCheck.Arbitrary.Get<T>()">Get</a></span><span class="punctuation">&lt;</span><span class="typename" data-toggle="tooltip" title="T"><a href="../Examples/SeqTests.html#T">T</a></span><span class="punctuation">&gt;</span> <span class="punctuation">(</span><span class="punctuation">)</span><span class="punctuation">;</span>
</code></pre>
<p>Now we need to define the generator for <code>Seq&lt;T&gt;</code> type. Generators
have the type <code>Gen&lt;T&gt;</code> where T is the type of data produced. They
are defined as Linq expressions where complex types are constructed
with built-in or user-defined combinators. In this case we can
utilize the combinator that creates an <code>Gen&lt;IEnumerable&lt;T&gt;&gt;</code> given
a generator of type <code>Gen&lt;T&gt;</code>.</p>
<pre class="csharp"><code class="csharp">			<span class="keyword">return</span> <span class="keyword" data-toggle="tooltip" title="LinqCheck.Arbitrary<ExtensionCord.Seq<T>>">new</span> <span class="typename"><a href="../src/Arbitrary.html#LinqCheck.Arbitrary<T>">Arbitrary</a></span><span class="punctuation">&lt;</span><span class="typename" data-toggle="tooltip" title="ExtensionCord.Seq<T>">Seq</span><span class="punctuation">&lt;</span><span class="typename" data-toggle="tooltip" title="T"><a href="../Examples/SeqTests.html#T">T</a></span><span class="punctuation">&gt;</span><span class="punctuation">&gt;</span> <span class="punctuation">(</span>
				<span class="keyword">from</span> e <span class="keyword">in</span> <span data-toggle="tooltip" title="LinqCheck.IArbitrary<T>">arb</span><span class="punctuation" data-toggle="tooltip" title="LinqCheck.Gen<T>">.</span><span data-toggle="tooltip" title="LinqCheck.Gen<T>"><a href="../src/Arbitrary.html#LinqCheck.IArbitrary<T>.Generate">Generate</a></span><span class="punctuation" data-toggle="tooltip" title="LinqCheck.Gen<T>.EnumerableOf<T>()">.</span><span data-toggle="tooltip" title="LinqCheck.Gen<T>.EnumerableOf<T>()"><a href="../src/Gen.html#LinqCheck.Gen.EnumerableOf<T>(LinqCheck.Gen<T>)">EnumerableOf</a></span> <span class="punctuation">(</span><span class="punctuation">)</span>
				<span class="keyword" data-toggle="tooltip" title="LinqCheck.Gen<ExtensionCord.Seq<T>>">select</span> <span data-toggle="tooltip" title="System.Collections.Generic.IEnumerable<T>">e</span><span class="punctuation" data-toggle="tooltip" title="System.Collections.Generic.IEnumerable<T>.ToSeq<T>()">.</span><span data-toggle="tooltip" title="System.Collections.Generic.IEnumerable<T>.ToSeq<T>()">ToSeq</span> <span class="punctuation">(</span><span class="punctuation">)</span><span class="punctuation">,</span>
</code></pre>
<p>We also need to provide a way to shrink the failed sequence
to simpler examples. Again, we take advantage of the fact
that <code>Seq&lt;T&gt;</code> implements <code>IEnumerable&lt;T&gt;</code>, so we can use
the built-in combinator to do the shrinking. Lastly, we
convert the shrinked IEnumerables back to Seqs.</p>
<pre class="csharp"><code class="csharp">				seq <span class="punctuation" data-toggle="tooltip" title="lambda expression">=&gt;</span>
					<span class="keyword">from</span> e <span class="keyword">in</span> <span data-toggle="tooltip" title="ExtensionCord.Seq<T>">seq</span><span class="punctuation" data-toggle="tooltip" title="System.Collections.Generic.IEnumerable<T>.ShrinkEnumerable<T>()">.</span><span data-toggle="tooltip" title="System.Collections.Generic.IEnumerable<T>.ShrinkEnumerable<T>()"><a href="../src/DefaultArbitrary.html#LinqCheck.DefaultArbitrary.ShrinkEnumerable<T>(System.Collections.Generic.IEnumerable<T>)">ShrinkEnumerable</a></span> <span class="punctuation">(</span><span class="punctuation">)</span>
					<span class="keyword" data-toggle="tooltip" title="System.Collections.Generic.IEnumerable<ExtensionCord.Seq<T>>">select</span> <span data-toggle="tooltip" title="System.Collections.Generic.IEnumerable<T>">e</span><span class="punctuation" data-toggle="tooltip" title="System.Collections.Generic.IEnumerable<T>.ToSeq<T>()">.</span><span data-toggle="tooltip" title="System.Collections.Generic.IEnumerable<T>.ToSeq<T>()">ToSeq</span> <span class="punctuation">(</span><span class="punctuation">)</span>
				<span class="punctuation">)</span><span class="punctuation">;</span>
		<span class="punctuation">}</span>
</code></pre>
<p>It is that simple! Now we have a generic method that can generate
arbitrary sequences of any type <code>T</code> provided that there is an
implementation for <code>IArbitrary&lt;T&gt;</code>.</p>
<h2 id="testing-properties-of-sequences">Testing Properties of Sequences</h2>
<p>So, what properties should all sequences have? Let's start with the
simple ones. First let's check that the First and Rest properties
are correct. Note that our test method is generic, it can basically
test this property for any sequences of any item type.</p>
<pre class="csharp"><code class="csharp">		<span class="keyword" id="Examples.SeqTests.CheckFirstAndRest<T>()" data-toggle="tooltip" title="Examples.SeqTests.CheckFirstAndRest<T>()">public</span> <span class="keyword" data-toggle="tooltip" title="void">void</span> <span data-toggle="tooltip" title="Examples.SeqTests.CheckFirstAndRest<T>()">CheckFirstAndRest</span><span class="punctuation">&lt;</span><span class="typename"><a href="../Examples/SeqTests.html#T">T</a></span><span class="punctuation">&gt;</span><span class="punctuation">(</span><span class="punctuation">)</span>
		<span class="punctuation">{</span>
</code></pre>
<p>We get a random sequence by calling the method defined above.</p>
<pre class="csharp"><code class="csharp">			<span class="punctuation" data-toggle="tooltip" title="LinqCheck.Prop<<anonymous type: ExtensionCord.Seq<T> seq, T First, ExtensionCord.Seq<T> Rest>>">(</span><span class="keyword">from</span> seq <span class="keyword">in</span> <span class="typename" data-toggle="tooltip" title="LinqCheck.Prop"><a href="../src/Prop.html#LinqCheck.Prop">Prop</a></span><span class="punctuation" data-toggle="tooltip" title="LinqCheck.Prop.ForAll<ExtensionCord.Seq<T>>(LinqCheck.IArbitrary<ExtensionCord.Seq<T>>)">.</span><span data-toggle="tooltip" title="LinqCheck.Prop.ForAll<ExtensionCord.Seq<T>>(LinqCheck.IArbitrary<ExtensionCord.Seq<T>>)"><a href="../src/Prop.html#LinqCheck.Prop.ForAll<T>(LinqCheck.IArbitrary<T>)">ForAll</a></span> <span class="punctuation">(</span><span data-toggle="tooltip" title="Examples.SeqTests.ArbitrarySeq<T>()"><a href="../Examples/SeqTests.html#Examples.SeqTests.ArbitrarySeq<T>()">ArbitrarySeq</a></span><span class="punctuation">&lt;</span><span class="typename" data-toggle="tooltip" title="T"><a href="../Examples/SeqTests.html#T">T</a></span><span class="punctuation">&gt;</span> <span class="punctuation">(</span><span class="punctuation">)</span><span class="punctuation">)</span>
</code></pre>
<p>There is no first item, if the sequence is empty, so we filter
out all such sequences.</p>
<pre class="csharp"><code class="csharp">			 <span class="keyword">where</span> <span class="punctuation" data-toggle="tooltip" title="bool">!</span><span data-toggle="tooltip" title="ExtensionCord.Seq<T>">seq</span><span class="punctuation" data-toggle="tooltip" title="ExtensionCord.Seq<T>.IsEmpty<T>()">.</span><span data-toggle="tooltip" title="ExtensionCord.Seq<T>.IsEmpty<T>()">IsEmpty</span> <span class="punctuation">(</span><span class="punctuation">)</span>
</code></pre>
<p>Now we can return the test sequence and its first and rest
fields.</p>
<pre class="csharp"><code class="csharp">			 <span class="keyword" data-toggle="tooltip" title="LinqCheck.Prop<<anonymous type: ExtensionCord.Seq<T> seq, T First, ExtensionCord.Seq<T> Rest>>">select</span> <span class="keyword" data-toggle="tooltip" title="<anonymous type: ExtensionCord.Seq<T> seq, T First, ExtensionCord.Seq<T> Rest>">new</span> <span class="punctuation" data-toggle="tooltip" title="<anonymous type: ExtensionCord.Seq<T> seq, T First, ExtensionCord.Seq<T> Rest>">{</span> <span data-toggle="tooltip" title="ExtensionCord.Seq<T>">seq</span><span class="punctuation" data-toggle="tooltip" title="<anonymous type: ExtensionCord.Seq<T> seq, T First, ExtensionCord.Seq<T> Rest>">,</span> <span data-toggle="tooltip" title="ExtensionCord.Seq<T>">seq</span><span class="punctuation" data-toggle="tooltip" title="T">.</span><span data-toggle="tooltip" title="T">First</span><span class="punctuation" data-toggle="tooltip" title="<anonymous type: ExtensionCord.Seq<T> seq, T First, ExtensionCord.Seq<T> Rest>">,</span> <span data-toggle="tooltip" title="ExtensionCord.Seq<T>">seq</span><span class="punctuation" data-toggle="tooltip" title="ExtensionCord.Seq<T>">.</span><span data-toggle="tooltip" title="ExtensionCord.Seq<T>">Rest</span> <span class="punctuation" data-toggle="tooltip" title="<anonymous type: ExtensionCord.Seq<T> seq, T First, ExtensionCord.Seq<T> Rest>">}</span><span class="punctuation" data-toggle="tooltip" title="LinqCheck.Prop<<anonymous type: ExtensionCord.Seq<T> seq, T First, ExtensionCord.Seq<T> Rest>>">)</span>
</code></pre>
<p><code>Enumerable.First ()</code> extension method gives us the first item of
an IEnumerable which should correspond to the value of the First
property.</p>
<pre class="csharp"><code class="csharp">			<span class="punctuation" data-toggle="tooltip" title="LinqCheck.Prop<<anonymous type: ExtensionCord.Seq<T> seq, T First, ExtensionCord.Seq<T> Rest>>.Check<<anonymous type: ExtensionCord.Seq<T> seq, T First, ExtensionCord.Seq<T> Rest>>(System.Linq.Expressions.Expression<System.Func<<anonymous type: ExtensionCord.Seq<T> seq, T First, ExtensionCord.Seq<T> Rest>, bool>>, int)">.</span><span data-toggle="tooltip" title="LinqCheck.Prop<<anonymous type: ExtensionCord.Seq<T> seq, T First, ExtensionCord.Seq<T> Rest>>.Check<<anonymous type: ExtensionCord.Seq<T> seq, T First, ExtensionCord.Seq<T> Rest>>(System.Linq.Expressions.Expression<System.Func<<anonymous type: ExtensionCord.Seq<T> seq, T First, ExtensionCord.Seq<T> Rest>, bool>>, int)"><a href="../src/Prop.html#LinqCheck.Prop.Check<T>(LinqCheck.Prop<T>, System.Linq.Expressions.Expression<System.Func<T, bool>>, int)">Check</a></span> <span class="punctuation">(</span>t <span class="punctuation" data-toggle="tooltip" title="lambda expression">=&gt;</span> <span data-toggle="tooltip" title="<anonymous type: ExtensionCord.Seq<T> seq, T First, ExtensionCord.Seq<T> Rest>">t</span><span class="punctuation" data-toggle="tooltip" title="T">.</span><span data-toggle="tooltip" title="T"><a href="../Examples/SeqTests.html#<anonymous type: ExtensionCord.Seq<T> seq, T First, ExtensionCord.Seq<T> Rest>.First">First</a></span><span class="punctuation" data-toggle="tooltip" title="object.Equals(object)">.</span><span data-toggle="tooltip" title="object.Equals(object)">Equals</span> <span class="punctuation">(</span><span data-toggle="tooltip" title="<anonymous type: ExtensionCord.Seq<T> seq, T First, ExtensionCord.Seq<T> Rest>">t</span><span class="punctuation" data-toggle="tooltip" title="ExtensionCord.Seq<T>">.</span><span data-toggle="tooltip" title="ExtensionCord.Seq<T>"><a href="../Examples/SeqTests.html#<anonymous type: ExtensionCord.Seq<T> seq, T First, ExtensionCord.Seq<T> Rest>.seq">seq</a></span><span class="punctuation" data-toggle="tooltip" title="System.Collections.Generic.IEnumerable<T>.First<T>()">.</span><span data-toggle="tooltip" title="System.Collections.Generic.IEnumerable<T>.First<T>()">First</span> <span class="punctuation">(</span><span class="punctuation">)</span><span class="punctuation">)</span><span class="punctuation">)</span>
</code></pre>
<p>We use the <code>Enumerable.Skip ()</code> method to skip the first item and
compare the remaining items to the sequence pointed by the Rest
field. We use the helper method defined in the ExtensionCord library
to check that the two IEnumerables contain the same items. Note
that an empty sequence is represented by <code>null</code>, which would crash
the <code>SequenceEqual</code> method. So, we have to test that the sequence
to which the Rest property points to is not empty.</p>
<pre class="csharp"><code class="csharp">			<span class="punctuation" data-toggle="tooltip" title="LinqCheck.Prop<<anonymous type: ExtensionCord.Seq<T> seq, T First, ExtensionCord.Seq<T> Rest>>.Check<<anonymous type: ExtensionCord.Seq<T> seq, T First, ExtensionCord.Seq<T> Rest>>(System.Linq.Expressions.Expression<System.Func<<anonymous type: ExtensionCord.Seq<T> seq, T First, ExtensionCord.Seq<T> Rest>, bool>>, int)">.</span><span data-toggle="tooltip" title="LinqCheck.Prop<<anonymous type: ExtensionCord.Seq<T> seq, T First, ExtensionCord.Seq<T> Rest>>.Check<<anonymous type: ExtensionCord.Seq<T> seq, T First, ExtensionCord.Seq<T> Rest>>(System.Linq.Expressions.Expression<System.Func<<anonymous type: ExtensionCord.Seq<T> seq, T First, ExtensionCord.Seq<T> Rest>, bool>>, int)"><a href="../src/Prop.html#LinqCheck.Prop.Check<T>(LinqCheck.Prop<T>, System.Linq.Expressions.Expression<System.Func<T, bool>>, int)">Check</a></span> <span class="punctuation">(</span>t <span class="punctuation" data-toggle="tooltip" title="lambda expression">=&gt;</span> <span data-toggle="tooltip" title="<anonymous type: ExtensionCord.Seq<T> seq, T First, ExtensionCord.Seq<T> Rest>">t</span><span class="punctuation" data-toggle="tooltip" title="ExtensionCord.Seq<T>">.</span><span data-toggle="tooltip" title="ExtensionCord.Seq<T>"><a href="../Examples/SeqTests.html#<anonymous type: ExtensionCord.Seq<T> seq, T First, ExtensionCord.Seq<T> Rest>.Rest">Rest</a></span><span class="punctuation" data-toggle="tooltip" title="ExtensionCord.Seq<T>.IsEmpty<T>()">.</span><span data-toggle="tooltip" title="ExtensionCord.Seq<T>.IsEmpty<T>()">IsEmpty</span> <span class="punctuation">(</span><span class="punctuation">)</span> <span class="punctuation" data-toggle="tooltip" title="bool">||</span> <span data-toggle="tooltip" title="<anonymous type: ExtensionCord.Seq<T> seq, T First, ExtensionCord.Seq<T> Rest>">t</span><span class="punctuation" data-toggle="tooltip" title="ExtensionCord.Seq<T>">.</span><span data-toggle="tooltip" title="ExtensionCord.Seq<T>"><a href="../Examples/SeqTests.html#<anonymous type: ExtensionCord.Seq<T> seq, T First, ExtensionCord.Seq<T> Rest>.Rest">Rest</a></span><span class="punctuation" data-toggle="tooltip" title="System.Collections.Generic.IEnumerable<T>.SequenceEqual<T>(System.Collections.Generic.IEnumerable<T>)">.</span><span data-toggle="tooltip" title="System.Collections.Generic.IEnumerable<T>.SequenceEqual<T>(System.Collections.Generic.IEnumerable<T>)">SequenceEqual</span> <span class="punctuation">(</span><span data-toggle="tooltip" title="<anonymous type: ExtensionCord.Seq<T> seq, T First, ExtensionCord.Seq<T> Rest>">t</span><span class="punctuation" data-toggle="tooltip" title="ExtensionCord.Seq<T>">.</span><span data-toggle="tooltip" title="ExtensionCord.Seq<T>"><a href="../Examples/SeqTests.html#<anonymous type: ExtensionCord.Seq<T> seq, T First, ExtensionCord.Seq<T> Rest>.seq">seq</a></span><span class="punctuation" data-toggle="tooltip" title="System.Collections.Generic.IEnumerable<T>.Skip<T>(int)">.</span><span data-toggle="tooltip" title="System.Collections.Generic.IEnumerable<T>.Skip<T>(int)">Skip</span> <span class="punctuation">(</span><span class="number" data-toggle="tooltip" title="int">1</span><span class="punctuation">)</span><span class="punctuation">)</span><span class="punctuation">)</span><span class="punctuation">;</span>
		<span class="punctuation">}</span>
</code></pre>
<p>It does not really matter which item type we use to test the sequence,
since the it should work the same way with any type. However, it is not
possible to run a generic test method, so let's use <code>int</code>, <code>double</code>,
and <code>string</code> as example item types. You can use any type for which there
is an IArbitrary implementation registered.</p>
<pre class="csharp"><code class="csharp">		<span class="punctuation">[</span><span class="typename" data-toggle="tooltip" title="LinqCheck.TestAttribute"><a href="../src/Tester.html#LinqCheck.TestAttribute.TestAttribute()">Test</a></span><span class="punctuation">]</span>
		<span class="keyword" id="Examples.SeqTests.TestFirstAndRest()" data-toggle="tooltip" title="Examples.SeqTests.TestFirstAndRest()">public</span> <span class="keyword" data-toggle="tooltip" title="void">void</span> <span data-toggle="tooltip" title="Examples.SeqTests.TestFirstAndRest()">TestFirstAndRest</span> <span class="punctuation">(</span><span class="punctuation">)</span>
		<span class="punctuation">{</span>
			<span data-toggle="tooltip" title="Examples.SeqTests.CheckFirstAndRest<int>()"><a href="../Examples/SeqTests.html#Examples.SeqTests.CheckFirstAndRest<T>()">CheckFirstAndRest</a></span><span class="punctuation">&lt;</span><span class="keyword" data-toggle="tooltip" title="int">int</span><span class="punctuation">&gt;</span> <span class="punctuation">(</span><span class="punctuation">)</span><span class="punctuation">;</span>
			<span data-toggle="tooltip" title="Examples.SeqTests.CheckFirstAndRest<double>()"><a href="../Examples/SeqTests.html#Examples.SeqTests.CheckFirstAndRest<T>()">CheckFirstAndRest</a></span><span class="punctuation">&lt;</span><span class="keyword" data-toggle="tooltip" title="double">double</span><span class="punctuation">&gt;</span> <span class="punctuation">(</span><span class="punctuation">)</span><span class="punctuation">;</span>
			<span data-toggle="tooltip" title="Examples.SeqTests.CheckFirstAndRest<string>()"><a href="../Examples/SeqTests.html#Examples.SeqTests.CheckFirstAndRest<T>()">CheckFirstAndRest</a></span><span class="punctuation">&lt;</span><span class="keyword" data-toggle="tooltip" title="string">string</span><span class="punctuation">&gt;</span> <span class="punctuation">(</span><span class="punctuation">)</span><span class="punctuation">;</span>
		<span class="punctuation">}</span>
</code></pre>
<p>When we run this test, we should get the following output:</p>
<pre><code>Executing tests for fixture: SeqTests
't.First.Equals(Convert(t.seq.First()))' passed 86 tests. Discarded: 14
'(t.Rest.IsEmpty() OrElse t.Rest.SequenceEqual(t.seq.Skip(1)))' passed 89 tests. Discarded: 11
't.First.Equals(Convert(t.seq.First()))' passed 95 tests. Discarded: 5
'(t.Rest.IsEmpty() OrElse t.Rest.SequenceEqual(t.seq.Skip(1)))' passed 90 tests. Discarded: 10
't.First.Equals(Convert(t.seq.First()))' passed 88 tests. Discarded: 12
'(t.Rest.IsEmpty() OrElse t.Rest.SequenceEqual(t.seq.Skip(1)))' passed 88 tests. Discarded: 12
00:00:00.0335073 - TestFirstAndRest

All tests passed. 3 tests run in 00:00:00.0677541.
</code></pre>
<p>Note that some test cases are now discarded. This happens because
we specified that we only want to use sequences that are not empty. The
where clause essentially throws away inputs which do not satisfy this
condition. So, our test set is a bit smaller.</p>
<p>There are two ways you can make the test set bigger: You can increase
the number of test cases generated by providing the second argument to
the <code>Check</code> method. The other option is to implement new <code>ArbitrarySeq</code>
so, that it never creates an empty sequence. This would not be desireable
in all tests, though.</p>
<pre class="csharp"><code class="csharp">	<span class="punctuation">}</span>
<span class="punctuation">}</span>
</code></pre>

				</div>
				<ul class="pager">
	<li class="previous"><a href="../Examples/BasicTests.html">Previous: BasicTests</a></li>
	<li class="next"><a href="../Examples/RunTests.html">Next: RunTests</a></li>
</ul>
			</div>
        </div>
    </div>
    
    <footer class="panel-footer text-center">
        <p>Copyright © 2018 Tommi Johtela</p>
    </footer>


    
    <script src="../bootstrap/js/jquery.min.js"></script>
    <script src="../bootstrap/js/bootstrap.min.js"></script>
    <script src="../sidebar/sidebar.js"></script>
    <script src="../syntax-highlight/syntax.js"></script>
    <script type="text/x-mathjax-config">
        MathJax.Hub.Config({
        extensions: ["jsMath2jax.js"]
        });
    </script>
    <script src='https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS_HTML'></script>
	<script src="../mermaid/mermaid.min.js"></script>
	<script>mermaid.initialize({startOnLoad:true});</script>
</body>
</html>