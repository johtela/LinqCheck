

<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>Gen - LinqCheck</title>

	<link rel="icon" type="image/x-icon" href="../images/favicon.ico">
    <link rel="stylesheet" href="../bootstrap/css/simplex/bootstrap.min.css" />
<link rel="stylesheet" href="../font-awesome/css/font-awesome.min.css">
<link rel="stylesheet" href="../sidebar/sidebar.min.css" />
<link rel="stylesheet" href="../css/modern.min.css" />
<link rel="stylesheet" href="../syntax-highlight/son-of-obsidian.min.css" />
<link rel="stylesheet" href="../mermaid/mermaid.css" />

</head>

<body>
    
    <nav class="navbar navbar-inverse">
        <div class="container-fluid">
            <div class="navbar-header">
                <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <a class="navbar-brand" href="../index.html"><span><img src="../images/LinqCheck.svg" height="24" />  LinqCheck</span></a>
            </div>
            <div id="navbar" class="navbar-collapse collapse">
                <ul class="nav navbar-nav">
                    <li><a href="../index.html"><i class="fa fa-home" aria-hidden="true"></i> Home</a></li>
					<li><a href="https://github.com/johtela/LinqCheck"><i class="fa fa-github" aria-hidden="true"></i> GitHub Repository</a></li>
                    <li><a href="../License.html">License</a></li>
                </ul>
            </div>
        </div>
    </nav>

    <div class="container">
        <div class="row">
            <div class="col-md-3 hidden-xs hidden-sm">
                
        <div class="panel panel-default">
            <div class="panel-heading">
                <h4>On This Page</h4>
            </div>
            <div id="header-menu" class="panel-body main-menu">
                <ul></ul>
            </div>
        </div>  
        <div class="panel panel-default">
            <div class="panel-heading">
                <h4>Table of Contents</h4>
            </div>
            <div class="panel-body main-menu">
                <ul>
	<li><a href="../index.html">Home</a></li>
	<ul>
	</ul>
	<li>Usage</li>
	<ul>
<ul>
	<li><a href="../Examples/BasicTests.html">Writing Simple Tests</a></li>
	<ul>
	</ul>
	<li><a href="../Examples/SeqTests.html">Adding New Arbitrary Types</a></li>
	<ul>
	</ul>
	<li><a href="../Examples/UITests/Calculator.html">Testing Programs with Mutable State</a></li>
	<ul>
	</ul>
	<li><a href="../Examples/UITests/ModelCalculator.html">Implementing a Model</a></li>
	<ul>
	</ul>
	<li><a href="../Examples/UITests/Automated.html">Using UI Automation</a></li>
	<ul>
	</ul>
	<li><a href="../Examples/UITests/Win7Calculator.html">Windows 7 Calculator</a></li>
	<ul>
	</ul>
	<li><a href="../Examples/UITests/Win10Calculator.html">Windows 10 Calculator</a></li>
	<ul>
	</ul>
	<li><a href="../Examples/UITests/CalculatorTests.html">Testing the Calculator</a></li>
	<ul>
	</ul>
	<li><a href="../Examples/RunTests.html">Running the Tests</a></li>
	<ul>
	</ul>
</ul>
	</ul>
	<li>Implementation</li>
	<ul>
<ul>
	<li><a href="../src/Gen.html" class="selected">Generators and Monads</a></li>
	<ul>
	</ul>
	<li><a href="../src/Arbitrary.html">Generating and Shrinking Arbitrary Values</a></li>
	<ul>
	</ul>
	<li><a href="../src/DefaultArbitrary.html">Built-In Arbitrary Types</a></li>
	<ul>
	</ul>
	<li><a href="../src/Container.html">Registering Arbitrary Types</a></li>
	<ul>
	</ul>
	<li><a href="../src/TestState.html">Test State</a></li>
	<ul>
	</ul>
	<li><a href="../src/Prop.html">Properties</a></li>
	<ul>
	</ul>
	<li><a href="../src/Tester.html">Test Runner</a></li>
	<ul>
	</ul>
</ul>
	</ul>
	<li><a href="../License.html">License</a></li>
	<ul>
	</ul>
</ul>
            </div>
        </div>

            </div>
			<div class="col-md-9">
				<ul class="pager">
	<li class="previous"><a href="../Examples/RunTests.html">Previous: Running the Tests</a></li>
	<li class="next"><a href="../src/Arbitrary.html">Next: Generating and Shrinking Arbitrary Values</a></li>
</ul>
				<div id="static-content" class="markdown">
					<h1 id="generators-and-monads">Generators and Monads</h1>
<p>Most programming languages have a random number generator of some kind. The
Random class in the System namespace provides the default implementation for
.NET. It can produce random integers and floating point numbers. That is all
well and good, but we need to generate many more types than just numbers. The
question is: how can we generalize the Random class to provide values of any
type?</p>
<p>The answer is that we need to turn the random value generator into an abstract
concept, and define it as a function with multiple implementations. The function
gets a random number generator and transforms its output to a specific type <code>T</code>.
We define this abstract function as a delegate and call it <code>Gen&lt;T&gt;</code>.</p>
<pre class="csharp"><code class="csharp"><span class="keyword" id="LinqCheck">namespace</span> LinqCheck
<span class="punctuation">{</span>
	<span class="keyword">using</span> System<span class="punctuation">;</span>
	<span class="keyword">using</span> System<span class="punctuation">.</span>Collections<span class="punctuation">.</span>Generic<span class="punctuation">;</span>
	<span class="keyword">using</span> System<span class="punctuation">.</span>Linq<span class="punctuation">;</span>
	<span class="keyword">using</span> ExtensionCord<span class="punctuation">;</span>

	<span class="keyword" id="T LinqCheck.Gen<T>(System.Random, int)">public</span> <span class="keyword">delegate</span> <span class="typename" data-toggle="tooltip" title="T"><a href="../src/Gen.html#T">T</a></span> <span class="typename">Gen</span><span class="punctuation">&lt;</span><span class="typename"><a href="../src/Gen.html#T">T</a></span><span class="punctuation">&gt;</span> <span class="punctuation">(</span><span class="typename" data-toggle="tooltip" title="System.Random">Random</span> rnd<span class="punctuation">,</span> <span class="keyword" data-toggle="tooltip" title="int">int</span> size<span class="punctuation">)</span><span class="punctuation">;</span>
</code></pre>
<p>The delegate takes as arguments an instance of the Random class and size,
which represents the range of the returned value. The bigger the size the
wider range of values should be returned. For integers, the size parameter
limits the maximum number that the generator can return. For strings, it
specifies the maximum length. The interpretation of the argument is thus
context-sensitive.</p>
<p>We could now provide an implementation of <code>Gen&lt;T&gt;</code> for every type <code>T</code> that
we would like to generate, but that would result in a lot of boilerplate
code. Rather than going down that path, let's take our abstraction one step
further and make <code>Gen&lt;T&gt;</code> an instance of a
<a href="https://en.wikipedia.org/wiki/Monad_(functional_programming)"><em>monad</em></a>.</p>
<h2 id="monads">Monads</h2>
<p>The internet is littered with articles and blog posts explaining monads
through <a href="https://en.wikipedia.org/wiki/Category_theory">category theory</a> or
using some (obscure) analogy. Leaving theoretical and pedagogical aspects
aside, we will just show a real-world example of a monad implemented in C#.
Even if you are unfamiliar with the concept, hopefully you can grasp the
principle by following the code.</p>
<p>To build a monad you first of all need a generic type. Monad defines a way
to <em>compose</em> instances of a generic type together by providing two simple
operations: <em>return</em> and <em>bind</em>. Assuming our generic type is denoted by
<span class="math">M \langle T \rangle</span>, where <span class="math">T</span> is the type parameter, the operations are
defined as follows (we 	are using the
<a href="https://en.wikipedia.org/wiki/Currying"><em>curried</em></a> notation here):</p>
<div class="math">\begin{align}
return &amp; : T \to M \langle T \rangle \\
bind &amp; : M \langle T \rangle \to (T \to M \langle U \rangle) \to M \langle U \rangle
\end{align}
</div>
<p>All monads share these two operations. They differ, however, in how the
operations are implemented. There are also <a href="https://wiki.haskell.org/Monad_laws">laws</a>
which all monads must obey, but we can ignore them for now.</p>
<p>To make things more concrete, let's implement the two operators for our
<code>Gen&lt;T&gt;</code> delegate. We put the operations into a static class called Gen.</p>
<pre class="csharp"><code class="csharp">	<span class="keyword" id="LinqCheck.Gen">public</span> <span class="keyword">static</span> <span class="keyword">class</span> <span class="typename">Gen</span>
	<span class="punctuation">{</span>
</code></pre>
<h3 id="implementing-return">Implementing <em>return</em></h3>
<p>The signature of the <em>return</em> operation is:</p>
<div class="math">T \to M \langle T \rangle
</div>
<p>The operation takes a value of type <span class="math">T</span> and returns it wrapped in the
monad type <span class="math">M \langle T \rangle</span>. Since <em>return</em> is a reserved keyword
in C# it is bad practice to define a method with that name. Instead,
we name it <code>ToGen</code> to denote that the method transforms a value into
the Gen monad. It is a generic, static, extension method whose
signature in C# syntax looks like this:</p>
<pre class="csharp"><code class="csharp">		<span class="keyword" id="LinqCheck.Gen.ToGen<T>(T)" data-toggle="tooltip" title="LinqCheck.Gen.ToGen<T>(T)">public</span> <span class="keyword" data-toggle="tooltip" title="LinqCheck.Gen.ToGen<T>(T)">static</span> <span class="typename" data-toggle="tooltip" title="LinqCheck.Gen<T>"><a href="../src/Gen.html#T LinqCheck.Gen<T>(System.Random, int)">Gen</a></span><span class="punctuation">&lt;</span><span class="typename" data-toggle="tooltip" title="T"><a href="../src/Gen.html#T">T</a></span><span class="punctuation">&gt;</span> <span data-toggle="tooltip" title="LinqCheck.Gen.ToGen<T>(T)">ToGen</span><span class="punctuation">&lt;</span><span class="typename"><a href="../src/Gen.html#T">T</a></span><span class="punctuation">&gt;</span> <span class="punctuation">(</span><span class="keyword">this</span> <span class="typename" data-toggle="tooltip" title="T"><a href="../src/Gen.html#T">T</a></span> value<span class="punctuation">)</span>
		<span class="punctuation">{</span>
</code></pre>
<p>To implement the method, we can use a functional programming
technique commonly called as <em>following the types</em>. It entails
realizing that we are implementing a pure method, so we can only
return a value which we can construct from our parameters.</p>
<p>The only parameter we get is a value of type <code>T</code>. We have to return
a value of type <code>Gen&lt;T&gt;</code>, which is an alias for the delegate
<code>(Random, int) =&gt; T</code>. There is practically only one way to implement
that delegate given the parameters we have at hand.</p>
<pre class="csharp"><code class="csharp">			<span class="keyword">return</span> <span class="punctuation">(</span>rnd<span class="punctuation">,</span> size<span class="punctuation">)</span> <span class="punctuation" data-toggle="tooltip" title="lambda expression">=&gt;</span> <span data-toggle="tooltip" title="T">value</span><span class="punctuation">;</span>
		<span class="punctuation">}</span>
</code></pre>
<p>When we follow the types the implementation becomes obvious.</p>
<h3 id="implementing-bind">Implementing <em>bind</em></h3>
<p>The signature of <em>bind</em> is somewhat more complicated:</p>
<div class="math">M \langle T \rangle \to (T \to M \langle U \rangle) \to M \langle U \rangle
</div>
<p>but it can be mapped to the C# syntax in a straightforward fashion.
Again, we define the operation as static, generic, extension method.</p>
<pre class="csharp"><code class="csharp">		<span class="keyword" id="LinqCheck.Gen.Bind<T, U>(LinqCheck.Gen<T>, System.Func<T, LinqCheck.Gen<U>>)" data-toggle="tooltip" title="LinqCheck.Gen.Bind<T, U>(LinqCheck.Gen<T>, System.Func<T, LinqCheck.Gen<U>>)">public</span> <span class="keyword" data-toggle="tooltip" title="LinqCheck.Gen.Bind<T, U>(LinqCheck.Gen<T>, System.Func<T, LinqCheck.Gen<U>>)">static</span> <span class="typename" data-toggle="tooltip" title="LinqCheck.Gen<U>"><a href="../src/Gen.html#T LinqCheck.Gen<T>(System.Random, int)">Gen</a></span><span class="punctuation">&lt;</span><span class="typename" data-toggle="tooltip" title="U"><a href="../src/Gen.html#U">U</a></span><span class="punctuation">&gt;</span> <span data-toggle="tooltip" title="LinqCheck.Gen.Bind<T, U>(LinqCheck.Gen<T>, System.Func<T, LinqCheck.Gen<U>>)">Bind</span><span class="punctuation">&lt;</span><span class="typename"><a href="../src/Gen.html#T">T</a></span><span class="punctuation">,</span> <span class="typename"><a href="../src/Gen.html#U">U</a></span><span class="punctuation">&gt;</span> <span class="punctuation">(</span><span class="keyword">this</span> <span class="typename" data-toggle="tooltip" title="LinqCheck.Gen<T>"><a href="../src/Gen.html#T LinqCheck.Gen<T>(System.Random, int)">Gen</a></span><span class="punctuation">&lt;</span><span class="typename" data-toggle="tooltip" title="T"><a href="../src/Gen.html#T">T</a></span><span class="punctuation">&gt;</span> gen<span class="punctuation">,</span> <span class="typename" data-toggle="tooltip" title="System.Func<T, LinqCheck.Gen<U>>">Func</span><span class="punctuation">&lt;</span><span class="typename" data-toggle="tooltip" title="T"><a href="../src/Gen.html#T">T</a></span><span class="punctuation">,</span> <span class="typename" data-toggle="tooltip" title="LinqCheck.Gen<U>"><a href="../src/Gen.html#T LinqCheck.Gen<T>(System.Random, int)">Gen</a></span><span class="punctuation">&lt;</span><span class="typename" data-toggle="tooltip" title="U"><a href="../src/Gen.html#U">U</a></span><span class="punctuation">&gt;</span><span class="punctuation">&gt;</span> func<span class="punctuation">)</span>
		<span class="punctuation">{</span>
</code></pre>
<p>Let's again follow the types to implement the method. We need to
return a value of type <code>Gen&lt;U&gt;</code> which corresponds to the delegate
<code>(Random, int) =&gt; U</code>. So, we need to return a lambda expression
with two parameters <code>rnd</code> and <code>size</code>.</p>
<pre class="csharp"><code class="csharp">			<span class="keyword">return</span> <span class="punctuation">(</span>rnd<span class="punctuation">,</span> size<span class="punctuation">)</span> <span class="punctuation" data-toggle="tooltip" title="lambda expression">=&gt;</span>
			<span class="punctuation">{</span>
</code></pre>
<p>How should we implement this lambda expression? Well, we have
been given two parameters: a generator of type <code>Gen&lt;T&gt;</code> and a
function which maps <code>T</code> to <code>Gen&lt;U&gt;</code>. To get a value of type <code>T</code>
we need to call <code>gen</code>. Its arguments <code>(Random, int)</code> we get
from the parameters of the lambda expression.</p>
<pre class="csharp"><code class="csharp">				<span class="keyword" data-toggle="tooltip" title="T">var</span> <span id="a">a</span> <span class="punctuation">=</span> <span data-toggle="tooltip" title="LinqCheck.Gen<T>">gen</span> <span class="punctuation">(</span><span data-toggle="tooltip" title="System.Random">rnd</span><span class="punctuation">,</span> <span data-toggle="tooltip" title="int">size</span><span class="punctuation">)</span><span class="punctuation">;</span>
</code></pre>
<p>Now we have a value of type <code>T</code> in variable <code>a</code>. The only thing
we can do with that variable is to feed it to <code>func</code> to get a
generator of type <code>Gen&lt;U&gt;</code>. To get the expected result type <code>U</code>
of our lambda expression, we call this generator with the same
<code>rnd</code> and <code>size</code> parameters as before.</p>
<pre class="csharp"><code class="csharp">				<span class="keyword">return</span> <span data-toggle="tooltip" title="System.Func<T, LinqCheck.Gen<U>>">func</span> <span class="punctuation">(</span><span data-toggle="tooltip" title="T">a</span><span class="punctuation">)</span> <span class="punctuation">(</span><span data-toggle="tooltip" title="System.Random">rnd</span><span class="punctuation">,</span> <span data-toggle="tooltip" title="int">size</span><span class="punctuation">)</span><span class="punctuation">;</span>
			<span class="punctuation">}</span><span class="punctuation">;</span>
		<span class="punctuation">}</span>
</code></pre>
<p>Note that the process was almost mechanical. Think for a while, if you
could implement the method differently. You will notice that if you try
to change the implementation in any way, the code will not compile
anymore; the types do not match.</p>
<p>This is the reason, why we usually do not have to concern ourselves
with the monad laws. If your monad type is a pure function, it is
impossible to define the <em>return</em> and <em>bind</em> operation in a way that
violates the monad laws. There is literally only one way to implement
them. Be warned that this realization can easily blow your mind...</p>
<h3 id="what-have-we-achieved">What Have We Achieved?</h3>
<p>Before going further, let's step back and contemplate what we just
implemented. We defined two operations: <code>ToGen</code> converts a value into
a generator, and <code>Bind</code> turns a generator for <code>T</code>'s into generator for
<code>U</code>'s when given a function that maps a value of type <code>T</code> to a
generator of type <code>Gen&lt;U&gt;</code>.</p>
<p>Essentially we defined a way to create generators and chain them
together while hiding the two parameters of the <code>Gen&lt;T&gt;</code> delegate.
This does not sound like a big deal, but it is.</p>
<p>We can construct arbitrary complex generators and implement almost
all the functionality we need using just these two operations. The
instance of the Random class and the size parameter are passed along
transparently in the background. This simplifies our code and makes it
<em>composable</em>. With monads we achieve true code reusability.</p>
<h2 id="relation-to-linq">Relation to LINQ</h2>
<p>In the introduction there was a vague claim that LINQ and monads are
somehow related. Now we will show exactly how. We will implement LINQ's
core operations <code>Select</code> and <code>SelectMany</code> using <code>ToGen</code> and <code>Bind</code>. The
<code>Select*</code> methods enable the syntactic sugaring that allows us to write
generators as LINQ expressions.</p>
<p>When C# compiler is desugaring a LINQ expression, it just rewrites it
using the <code>Select</code> and <code>SelectMany</code>	extension methods. If these methods
are defined somewhere and they have the correct signature, then the
compiler will be happy.</p>
<p>The trick is thus to define those methods for our own monad type, and
we get a <a href="https://en.wikipedia.org/wiki/Domain-specific_language">domain specific language</a>
for our generators. This DSL just happens to have the same syntax as
LINQ. Haskell provides
<a href="https://en.wikibooks.org/wiki/Haskell/do_notation">syntactic sugaring</a>
for monads too, although its syntax resembles an imperative program
rather than a SQL query. Nevertheless, the idea is exactly the same.</p>
<h3 id="implementing-select-and-selectmany">Implementing Select and SelectMany</h3>
<p>The signature of the LINQ's <code>Select</code> method is almost the same as for
<code>Bind</code>. The only difference is the type of the function given as the
second argument. Instead of <code>Func&lt;T, Gen&lt;U&gt;&gt;</code> it is <code>Func&lt;T, U&gt;</code>.
Converting the function type to one expected by <code>Bind</code> is trivial using
<code>ToGen</code>.</p>
<pre class="csharp"><code class="csharp">		<span class="keyword" id="LinqCheck.Gen.Select<T, U>(LinqCheck.Gen<T>, System.Func<T, U>)" data-toggle="tooltip" title="LinqCheck.Gen.Select<T, U>(LinqCheck.Gen<T>, System.Func<T, U>)">public</span> <span class="keyword" data-toggle="tooltip" title="LinqCheck.Gen.Select<T, U>(LinqCheck.Gen<T>, System.Func<T, U>)">static</span> <span class="typename" data-toggle="tooltip" title="LinqCheck.Gen<U>"><a href="../src/Gen.html#T LinqCheck.Gen<T>(System.Random, int)">Gen</a></span><span class="punctuation">&lt;</span><span class="typename" data-toggle="tooltip" title="U"><a href="../src/Gen.html#U">U</a></span><span class="punctuation">&gt;</span> <span data-toggle="tooltip" title="LinqCheck.Gen.Select<T, U>(LinqCheck.Gen<T>, System.Func<T, U>)">Select</span><span class="punctuation">&lt;</span><span class="typename"><a href="../src/Gen.html#T">T</a></span><span class="punctuation">,</span> <span class="typename"><a href="../src/Gen.html#U">U</a></span><span class="punctuation">&gt;</span> <span class="punctuation">(</span><span class="keyword">this</span> <span class="typename" data-toggle="tooltip" title="LinqCheck.Gen<T>"><a href="../src/Gen.html#T LinqCheck.Gen<T>(System.Random, int)">Gen</a></span><span class="punctuation">&lt;</span><span class="typename" data-toggle="tooltip" title="T"><a href="../src/Gen.html#T">T</a></span><span class="punctuation">&gt;</span> gen<span class="punctuation">,</span> <span class="typename" data-toggle="tooltip" title="System.Func<T, U>">Func</span><span class="punctuation">&lt;</span><span class="typename" data-toggle="tooltip" title="T"><a href="../src/Gen.html#T">T</a></span><span class="punctuation">,</span> <span class="typename" data-toggle="tooltip" title="U"><a href="../src/Gen.html#U">U</a></span><span class="punctuation">&gt;</span> select<span class="punctuation">)</span>
		<span class="punctuation">{</span>
			<span class="keyword">return</span> <span data-toggle="tooltip" title="LinqCheck.Gen<T>">gen</span><span class="punctuation" data-toggle="tooltip" title="LinqCheck.Gen<T>.Bind<T, U>(System.Func<T, LinqCheck.Gen<U>>)">.</span><span data-toggle="tooltip" title="LinqCheck.Gen<T>.Bind<T, U>(System.Func<T, LinqCheck.Gen<U>>)"><a href="../src/Gen.html#LinqCheck.Gen.Bind<T, U>(LinqCheck.Gen<T>, System.Func<T, LinqCheck.Gen<U>>)">Bind</a></span> <span class="punctuation">(</span>a <span class="punctuation" data-toggle="tooltip" title="lambda expression">=&gt;</span> <span data-toggle="tooltip" title="System.Func<T, U>">select</span> <span class="punctuation">(</span><span data-toggle="tooltip" title="T">a</span><span class="punctuation">)</span><span class="punctuation" data-toggle="tooltip" title="U.ToGen<U>()">.</span><span data-toggle="tooltip" title="U.ToGen<U>()"><a href="../src/Gen.html#LinqCheck.Gen.ToGen<T>(T)">ToGen</a></span> <span class="punctuation">(</span><span class="punctuation">)</span><span class="punctuation">)</span><span class="punctuation">;</span>
		<span class="punctuation">}</span>
</code></pre>
<p>The <code>SelectMany</code> operation is called <em>flatMap</em> in some functional
languages. It performs a double <code>Bind</code> as it combines a generator for
<code>T</code>'s and a generator for <code>U</code>'s, and maps them to a generator for <code>V</code>'s.
Whenever we have more than one select clause in a LINQ expression this
method is called.</p>
<pre class="csharp"><code class="csharp">		<span class="keyword" id="LinqCheck.Gen.SelectMany<T, U, V>(LinqCheck.Gen<T>, System.Func<T, LinqCheck.Gen<U>>, System.Func<T, U, V>)" data-toggle="tooltip" title="LinqCheck.Gen.SelectMany<T, U, V>(LinqCheck.Gen<T>, System.Func<T, LinqCheck.Gen<U>>, System.Func<T, U, V>)">public</span> <span class="keyword" data-toggle="tooltip" title="LinqCheck.Gen.SelectMany<T, U, V>(LinqCheck.Gen<T>, System.Func<T, LinqCheck.Gen<U>>, System.Func<T, U, V>)">static</span> <span class="typename" data-toggle="tooltip" title="LinqCheck.Gen<V>"><a href="../src/Gen.html#T LinqCheck.Gen<T>(System.Random, int)">Gen</a></span><span class="punctuation">&lt;</span><span class="typename" data-toggle="tooltip" title="V"><a href="../src/Gen.html#V">V</a></span><span class="punctuation">&gt;</span> <span data-toggle="tooltip" title="LinqCheck.Gen.SelectMany<T, U, V>(LinqCheck.Gen<T>, System.Func<T, LinqCheck.Gen<U>>, System.Func<T, U, V>)">SelectMany</span><span class="punctuation">&lt;</span><span class="typename"><a href="../src/Gen.html#T">T</a></span><span class="punctuation">,</span> <span class="typename"><a href="../src/Gen.html#U">U</a></span><span class="punctuation">,</span> <span class="typename"><a href="../src/Gen.html#V">V</a></span><span class="punctuation">&gt;</span> <span class="punctuation">(</span><span class="keyword">this</span> <span class="typename" data-toggle="tooltip" title="LinqCheck.Gen<T>"><a href="../src/Gen.html#T LinqCheck.Gen<T>(System.Random, int)">Gen</a></span><span class="punctuation">&lt;</span><span class="typename" data-toggle="tooltip" title="T"><a href="../src/Gen.html#T">T</a></span><span class="punctuation">&gt;</span> gen<span class="punctuation">,</span>
			<span class="typename" data-toggle="tooltip" title="System.Func<T, LinqCheck.Gen<U>>">Func</span><span class="punctuation">&lt;</span><span class="typename" data-toggle="tooltip" title="T"><a href="../src/Gen.html#T">T</a></span><span class="punctuation">,</span> <span class="typename" data-toggle="tooltip" title="LinqCheck.Gen<U>"><a href="../src/Gen.html#T LinqCheck.Gen<T>(System.Random, int)">Gen</a></span><span class="punctuation">&lt;</span><span class="typename" data-toggle="tooltip" title="U"><a href="../src/Gen.html#U">U</a></span><span class="punctuation">&gt;</span><span class="punctuation">&gt;</span> project<span class="punctuation">,</span> <span class="typename" data-toggle="tooltip" title="System.Func<T, U, V>">Func</span><span class="punctuation">&lt;</span><span class="typename" data-toggle="tooltip" title="T"><a href="../src/Gen.html#T">T</a></span><span class="punctuation">,</span> <span class="typename" data-toggle="tooltip" title="U"><a href="../src/Gen.html#U">U</a></span><span class="punctuation">,</span> <span class="typename" data-toggle="tooltip" title="V"><a href="../src/Gen.html#V">V</a></span><span class="punctuation">&gt;</span> select<span class="punctuation">)</span>
		<span class="punctuation">{</span>
</code></pre>
<p>As for <code>Select</code> the correct implementation reveals itself by
following the types. Note that the types force us to arrange
the <code>Bind</code> operations in a specific order.</p>
<pre class="csharp"><code class="csharp">			<span class="keyword">return</span> <span data-toggle="tooltip" title="LinqCheck.Gen<T>">gen</span><span class="punctuation" data-toggle="tooltip" title="LinqCheck.Gen<T>.Bind<T, V>(System.Func<T, LinqCheck.Gen<V>>)">.</span><span data-toggle="tooltip" title="LinqCheck.Gen<T>.Bind<T, V>(System.Func<T, LinqCheck.Gen<V>>)"><a href="../src/Gen.html#LinqCheck.Gen.Bind<T, U>(LinqCheck.Gen<T>, System.Func<T, LinqCheck.Gen<U>>)">Bind</a></span> <span class="punctuation">(</span>a <span class="punctuation" data-toggle="tooltip" title="lambda expression">=&gt;</span> <span data-toggle="tooltip" title="System.Func<T, LinqCheck.Gen<U>>">project</span> <span class="punctuation">(</span><span data-toggle="tooltip" title="T">a</span><span class="punctuation">)</span><span class="punctuation" data-toggle="tooltip" title="LinqCheck.Gen<U>.Bind<U, V>(System.Func<U, LinqCheck.Gen<V>>)">.</span><span data-toggle="tooltip" title="LinqCheck.Gen<U>.Bind<U, V>(System.Func<U, LinqCheck.Gen<V>>)"><a href="../src/Gen.html#LinqCheck.Gen.Bind<T, U>(LinqCheck.Gen<T>, System.Func<T, LinqCheck.Gen<U>>)">Bind</a></span> <span class="punctuation">(</span>b <span class="punctuation" data-toggle="tooltip" title="lambda expression">=&gt;</span> <span data-toggle="tooltip" title="System.Func<T, U, V>">select</span> <span class="punctuation">(</span><span data-toggle="tooltip" title="T">a</span><span class="punctuation">,</span> <span data-toggle="tooltip" title="U">b</span><span class="punctuation">)</span><span class="punctuation" data-toggle="tooltip" title="V.ToGen<V>()">.</span><span data-toggle="tooltip" title="V.ToGen<V>()"><a href="../src/Gen.html#LinqCheck.Gen.ToGen<T>(T)">ToGen</a></span> <span class="punctuation">(</span><span class="punctuation">)</span><span class="punctuation">)</span><span class="punctuation">)</span><span class="punctuation">;</span>
		<span class="punctuation">}</span>
</code></pre>
<p>Using <code>Bind</code> and <code>ToGen</code> makes the implementation of <code>Select</code> and
<code>SelectMany</code> completely generic. This means that these methods are
implemented exactly the same way for <em>any</em> monad we might come up with.
Unfortunately it is not possible to reuse these implementations for
other monads like in Haskell since the C# type system lacks
<a href="https://en.wikipedia.org/wiki/Type_class">type classes</a>, but copying
and pasting will work as well.</p>
<p>There is another monad type in LinqCheck: <code>Prop&lt;T&gt;</code>. Check for yourself
that its implementation of <code>Select</code> and <code>SelectMany</code> is same as above.</p>
<h3 id="implementing-where">Implementing Where</h3>
<p>LINQ's <code>Where</code> combinator we cannot define it in terms of <code>ToGen</code> and
<code>Bind</code>. <code>Where</code> filters out generated values which do not match a
specified predicate. It might need to call the generator repeatedly to
obtain a value that satisfies the predicate. In the worst case, it
might not find a matching value at all. The combinator gives up after
100 tries and throw an exception. It is the caller's responsibility to
ensure that the predicate is not too strict.</p>
<pre class="csharp"><code class="csharp">		<span class="keyword" id="LinqCheck.Gen.Where<T>(LinqCheck.Gen<T>, System.Func<T, bool>)" data-toggle="tooltip" title="LinqCheck.Gen.Where<T>(LinqCheck.Gen<T>, System.Func<T, bool>)">public</span> <span class="keyword" data-toggle="tooltip" title="LinqCheck.Gen.Where<T>(LinqCheck.Gen<T>, System.Func<T, bool>)">static</span> <span class="typename" data-toggle="tooltip" title="LinqCheck.Gen<T>"><a href="../src/Gen.html#T LinqCheck.Gen<T>(System.Random, int)">Gen</a></span><span class="punctuation">&lt;</span><span class="typename" data-toggle="tooltip" title="T"><a href="../src/Gen.html#T">T</a></span><span class="punctuation">&gt;</span> <span data-toggle="tooltip" title="LinqCheck.Gen.Where<T>(LinqCheck.Gen<T>, System.Func<T, bool>)">Where</span><span class="punctuation">&lt;</span><span class="typename"><a href="../src/Gen.html#T">T</a></span><span class="punctuation">&gt;</span> <span class="punctuation">(</span><span class="keyword">this</span> <span class="typename" data-toggle="tooltip" title="LinqCheck.Gen<T>"><a href="../src/Gen.html#T LinqCheck.Gen<T>(System.Random, int)">Gen</a></span><span class="punctuation">&lt;</span><span class="typename" data-toggle="tooltip" title="T"><a href="../src/Gen.html#T">T</a></span><span class="punctuation">&gt;</span> gen<span class="punctuation">,</span> <span class="typename" data-toggle="tooltip" title="System.Func<T, bool>">Func</span><span class="punctuation">&lt;</span><span class="typename" data-toggle="tooltip" title="T"><a href="../src/Gen.html#T">T</a></span><span class="punctuation">,</span> <span class="keyword" data-toggle="tooltip" title="bool">bool</span><span class="punctuation">&gt;</span> predicate<span class="punctuation">)</span>
		<span class="punctuation">{</span>
			<span class="keyword">return</span> <span class="punctuation">(</span>rnd<span class="punctuation">,</span> size<span class="punctuation">)</span> <span class="punctuation" data-toggle="tooltip" title="lambda expression">=&gt;</span>
			<span class="punctuation">{</span>
				<span class="typename" data-toggle="tooltip" title="T"><a href="../src/Gen.html#T">T</a></span> <span id="res">res</span><span class="punctuation">;</span>
				<span class="keyword" data-toggle="tooltip" title="int">var</span> <span id="tries">tries</span> <span class="punctuation">=</span> <span class="number" data-toggle="tooltip" title="int">0</span><span class="punctuation">;</span>
				<span class="keyword">do</span>
					<span data-toggle="tooltip" title="T">res</span> <span class="punctuation" data-toggle="tooltip" title="T">=</span> <span data-toggle="tooltip" title="LinqCheck.Gen<T>">gen</span> <span class="punctuation">(</span><span data-toggle="tooltip" title="System.Random">rnd</span><span class="punctuation">,</span> <span data-toggle="tooltip" title="int">size</span><span class="punctuation">)</span><span class="punctuation">;</span>
				<span class="keyword">while</span> <span class="punctuation">(</span><span class="punctuation" data-toggle="tooltip" title="bool">!</span><span data-toggle="tooltip" title="System.Func<T, bool>">predicate</span> <span class="punctuation">(</span><span data-toggle="tooltip" title="T">res</span><span class="punctuation">)</span> <span class="punctuation" data-toggle="tooltip" title="bool">&amp;&amp;</span> <span class="punctuation" data-toggle="tooltip" title="int">++</span><span data-toggle="tooltip" title="int">tries</span> <span class="punctuation" data-toggle="tooltip" title="bool">&lt;</span> <span class="number" data-toggle="tooltip" title="int">100</span><span class="punctuation">)</span><span class="punctuation">;</span>
				<span class="keyword">if</span> <span class="punctuation">(</span><span data-toggle="tooltip" title="int">tries</span> <span class="punctuation" data-toggle="tooltip" title="bool">&gt;=</span> <span class="number" data-toggle="tooltip" title="int">100</span><span class="punctuation">)</span>
					<span class="keyword">throw</span> <span class="keyword" data-toggle="tooltip" title="System.ArgumentException">new</span> <span class="typename">ArgumentException</span> <span class="punctuation">(</span><span class="string" data-toggle="tooltip" title="string">&quot;Could not generate a &quot;</span> <span class="punctuation" data-toggle="tooltip" title="string">+</span>
						<span class="string" data-toggle="tooltip" title="string">&quot;random value which satisfies the predicate.&quot;</span><span class="punctuation">)</span><span class="punctuation">;</span>
				<span class="keyword">return</span> <span data-toggle="tooltip" title="T">res</span><span class="punctuation">;</span>
			<span class="punctuation">}</span><span class="punctuation">;</span>
		<span class="punctuation">}</span>
</code></pre>
<h2 id="other-combinators">Other Combinators</h2>
<p>New generators can be now defined as LINQ expressions. As an example,
let's define two new combinators which combine two generators into a
generator of tuples.</p>
<pre class="csharp"><code class="csharp">		<span class="keyword" id="LinqCheck.Gen.Plus<T, U>(LinqCheck.Gen<T>, LinqCheck.Gen<U>)" data-toggle="tooltip" title="LinqCheck.Gen.Plus<T, U>(LinqCheck.Gen<T>, LinqCheck.Gen<U>)">public</span> <span class="keyword" data-toggle="tooltip" title="LinqCheck.Gen.Plus<T, U>(LinqCheck.Gen<T>, LinqCheck.Gen<U>)">static</span> <span class="typename" data-toggle="tooltip" title="LinqCheck.Gen<System.Tuple<T, U>>"><a href="../src/Gen.html#T LinqCheck.Gen<T>(System.Random, int)">Gen</a></span><span class="punctuation">&lt;</span><span class="typename" data-toggle="tooltip" title="System.Tuple<T, U>">Tuple</span><span class="punctuation">&lt;</span><span class="typename" data-toggle="tooltip" title="T"><a href="../src/Gen.html#T">T</a></span><span class="punctuation">,</span> <span class="typename" data-toggle="tooltip" title="U"><a href="../src/Gen.html#U">U</a></span><span class="punctuation">&gt;</span><span class="punctuation">&gt;</span> <span data-toggle="tooltip" title="LinqCheck.Gen.Plus<T, U>(LinqCheck.Gen<T>, LinqCheck.Gen<U>)">Plus</span><span class="punctuation">&lt;</span><span class="typename"><a href="../src/Gen.html#T">T</a></span><span class="punctuation">,</span> <span class="typename"><a href="../src/Gen.html#U">U</a></span><span class="punctuation">&gt;</span> <span class="punctuation">(</span><span class="keyword">this</span> <span class="typename" data-toggle="tooltip" title="LinqCheck.Gen<T>"><a href="../src/Gen.html#T LinqCheck.Gen<T>(System.Random, int)">Gen</a></span><span class="punctuation">&lt;</span><span class="typename" data-toggle="tooltip" title="T"><a href="../src/Gen.html#T">T</a></span><span class="punctuation">&gt;</span> gen1<span class="punctuation">,</span> <span class="typename" data-toggle="tooltip" title="LinqCheck.Gen<U>"><a href="../src/Gen.html#T LinqCheck.Gen<T>(System.Random, int)">Gen</a></span><span class="punctuation">&lt;</span><span class="typename" data-toggle="tooltip" title="U"><a href="../src/Gen.html#U">U</a></span><span class="punctuation">&gt;</span> gen2<span class="punctuation">)</span>
		<span class="punctuation">{</span>
			<span class="keyword">return</span> <span class="keyword">from</span> a <span class="keyword">in</span> <span data-toggle="tooltip" title="LinqCheck.Gen<T>">gen1</span>
				   <span class="keyword">from</span> b <span class="keyword">in</span> <span data-toggle="tooltip" title="LinqCheck.Gen<U>">gen2</span>
				   <span class="keyword" data-toggle="tooltip" title="LinqCheck.Gen<System.Tuple<T, U>>">select</span> <span class="typename" data-toggle="tooltip" title="System.Tuple">Tuple</span><span class="punctuation" data-toggle="tooltip" title="System.Tuple.Create<T, U>(T, U)">.</span><span data-toggle="tooltip" title="System.Tuple.Create<T, U>(T, U)">Create</span> <span class="punctuation">(</span><span data-toggle="tooltip" title="T">a</span><span class="punctuation">,</span> <span data-toggle="tooltip" title="U">b</span><span class="punctuation">)</span><span class="punctuation">;</span>
		<span class="punctuation">}</span>

		<span class="keyword" id="LinqCheck.Gen.Plus<T, U, V>(LinqCheck.Gen<T>, LinqCheck.Gen<U>, LinqCheck.Gen<V>)" data-toggle="tooltip" title="LinqCheck.Gen.Plus<T, U, V>(LinqCheck.Gen<T>, LinqCheck.Gen<U>, LinqCheck.Gen<V>)">public</span> <span class="keyword" data-toggle="tooltip" title="LinqCheck.Gen.Plus<T, U, V>(LinqCheck.Gen<T>, LinqCheck.Gen<U>, LinqCheck.Gen<V>)">static</span> <span class="typename" data-toggle="tooltip" title="LinqCheck.Gen<System.Tuple<T, U, V>>"><a href="../src/Gen.html#T LinqCheck.Gen<T>(System.Random, int)">Gen</a></span><span class="punctuation">&lt;</span><span class="typename" data-toggle="tooltip" title="System.Tuple<T, U, V>">Tuple</span><span class="punctuation">&lt;</span><span class="typename" data-toggle="tooltip" title="T"><a href="../src/Gen.html#T">T</a></span><span class="punctuation">,</span> <span class="typename" data-toggle="tooltip" title="U"><a href="../src/Gen.html#U">U</a></span><span class="punctuation">,</span> <span class="typename" data-toggle="tooltip" title="V"><a href="../src/Gen.html#V">V</a></span><span class="punctuation">&gt;</span><span class="punctuation">&gt;</span> <span data-toggle="tooltip" title="LinqCheck.Gen.Plus<T, U, V>(LinqCheck.Gen<T>, LinqCheck.Gen<U>, LinqCheck.Gen<V>)">Plus</span><span class="punctuation">&lt;</span><span class="typename"><a href="../src/Gen.html#T">T</a></span><span class="punctuation">,</span> <span class="typename"><a href="../src/Gen.html#U">U</a></span><span class="punctuation">,</span> <span class="typename"><a href="../src/Gen.html#V">V</a></span><span class="punctuation">&gt;</span> <span class="punctuation">(</span><span class="keyword">this</span> <span class="typename" data-toggle="tooltip" title="LinqCheck.Gen<T>"><a href="../src/Gen.html#T LinqCheck.Gen<T>(System.Random, int)">Gen</a></span><span class="punctuation">&lt;</span><span class="typename" data-toggle="tooltip" title="T"><a href="../src/Gen.html#T">T</a></span><span class="punctuation">&gt;</span> gen1<span class="punctuation">,</span> 
			<span class="typename" data-toggle="tooltip" title="LinqCheck.Gen<U>"><a href="../src/Gen.html#T LinqCheck.Gen<T>(System.Random, int)">Gen</a></span><span class="punctuation">&lt;</span><span class="typename" data-toggle="tooltip" title="U"><a href="../src/Gen.html#U">U</a></span><span class="punctuation">&gt;</span> gen2<span class="punctuation">,</span> <span class="typename" data-toggle="tooltip" title="LinqCheck.Gen<V>"><a href="../src/Gen.html#T LinqCheck.Gen<T>(System.Random, int)">Gen</a></span><span class="punctuation">&lt;</span><span class="typename" data-toggle="tooltip" title="V"><a href="../src/Gen.html#V">V</a></span><span class="punctuation">&gt;</span> gen3<span class="punctuation">)</span>
		<span class="punctuation">{</span>
			<span class="keyword">return</span> <span class="keyword">from</span> a <span class="keyword">in</span> <span data-toggle="tooltip" title="LinqCheck.Gen<T>">gen1</span>
				   <span class="keyword">from</span> b <span class="keyword">in</span> <span data-toggle="tooltip" title="LinqCheck.Gen<U>">gen2</span>
				   <span class="keyword">from</span> c <span class="keyword">in</span> <span data-toggle="tooltip" title="LinqCheck.Gen<V>">gen3</span>
				   <span class="keyword" data-toggle="tooltip" title="LinqCheck.Gen<System.Tuple<T, U, V>>">select</span> <span class="typename" data-toggle="tooltip" title="System.Tuple">Tuple</span><span class="punctuation" data-toggle="tooltip" title="System.Tuple.Create<T, U, V>(T, U, V)">.</span><span data-toggle="tooltip" title="System.Tuple.Create<T, U, V>(T, U, V)">Create</span> <span class="punctuation">(</span><span data-toggle="tooltip" title="T">a</span><span class="punctuation">,</span> <span data-toggle="tooltip" title="U">b</span><span class="punctuation">,</span> <span data-toggle="tooltip" title="V">c</span><span class="punctuation">)</span><span class="punctuation">;</span>
		<span class="punctuation">}</span>
</code></pre>
<h2 id="number-generators">Number Generators</h2>
<p>In addition to combinators we naturally need generators for the
number types <code>int</code> and <code>double</code>. These generators exploit the
functionality of the Random class. The <code>size</code> parameter is used to
limit the generated values, if no explicit limit is specified.</p>
<pre class="csharp"><code class="csharp">        <span class="keyword" id="LinqCheck.Gen.ChooseInt()" data-toggle="tooltip" title="LinqCheck.Gen.ChooseInt()">public</span> <span class="keyword" data-toggle="tooltip" title="LinqCheck.Gen.ChooseInt()">static</span> <span class="typename" data-toggle="tooltip" title="LinqCheck.Gen<int>"><a href="../src/Gen.html#T LinqCheck.Gen<T>(System.Random, int)">Gen</a></span><span class="punctuation">&lt;</span><span class="keyword" data-toggle="tooltip" title="int">int</span><span class="punctuation">&gt;</span> <span data-toggle="tooltip" title="LinqCheck.Gen.ChooseInt()">ChooseInt</span> <span class="punctuation">(</span><span class="punctuation">)</span>
        <span class="punctuation">{</span>
            <span class="keyword">return</span> <span class="punctuation">(</span>rnd<span class="punctuation">,</span> size<span class="punctuation">)</span> <span class="punctuation" data-toggle="tooltip" title="lambda expression">=&gt;</span> <span data-toggle="tooltip" title="System.Random">rnd</span><span class="punctuation" data-toggle="tooltip" title="System.Random.Next(int, int)">.</span><span data-toggle="tooltip" title="System.Random.Next(int, int)">Next</span> <span class="punctuation">(</span><span class="punctuation" data-toggle="tooltip" title="int">-</span><span data-toggle="tooltip" title="int">size</span> <span class="punctuation" data-toggle="tooltip" title="int">/</span> <span class="number" data-toggle="tooltip" title="int">2</span><span class="punctuation">,</span> <span data-toggle="tooltip" title="int">size</span> <span class="punctuation" data-toggle="tooltip" title="int">/</span> <span class="number" data-toggle="tooltip" title="int">2</span><span class="punctuation">)</span><span class="punctuation">;</span>
        <span class="punctuation">}</span>

        <span class="keyword" id="LinqCheck.Gen.ChooseInt(int)" data-toggle="tooltip" title="LinqCheck.Gen.ChooseInt(int)">public</span> <span class="keyword" data-toggle="tooltip" title="LinqCheck.Gen.ChooseInt(int)">static</span> <span class="typename" data-toggle="tooltip" title="LinqCheck.Gen<int>"><a href="../src/Gen.html#T LinqCheck.Gen<T>(System.Random, int)">Gen</a></span><span class="punctuation">&lt;</span><span class="keyword" data-toggle="tooltip" title="int">int</span><span class="punctuation">&gt;</span> <span data-toggle="tooltip" title="LinqCheck.Gen.ChooseInt(int)">ChooseInt</span> <span class="punctuation">(</span><span class="keyword" data-toggle="tooltip" title="int">int</span> min<span class="punctuation">)</span>
		<span class="punctuation">{</span>
			<span class="keyword">return</span> <span class="punctuation">(</span>rnd<span class="punctuation">,</span> size<span class="punctuation">)</span> <span class="punctuation" data-toggle="tooltip" title="lambda expression">=&gt;</span> <span data-toggle="tooltip" title="System.Random">rnd</span><span class="punctuation" data-toggle="tooltip" title="System.Random.Next(int, int)">.</span><span data-toggle="tooltip" title="System.Random.Next(int, int)">Next</span> <span class="punctuation">(</span><span data-toggle="tooltip" title="int">min</span><span class="punctuation">,</span> <span data-toggle="tooltip" title="int">min</span> <span class="punctuation" data-toggle="tooltip" title="int">+</span> <span data-toggle="tooltip" title="int">size</span><span class="punctuation">)</span><span class="punctuation">;</span>
		<span class="punctuation">}</span>

		<span class="keyword" id="LinqCheck.Gen.ChooseInt(int, int)" data-toggle="tooltip" title="LinqCheck.Gen.ChooseInt(int, int)">public</span> <span class="keyword" data-toggle="tooltip" title="LinqCheck.Gen.ChooseInt(int, int)">static</span> <span class="typename" data-toggle="tooltip" title="LinqCheck.Gen<int>"><a href="../src/Gen.html#T LinqCheck.Gen<T>(System.Random, int)">Gen</a></span><span class="punctuation">&lt;</span><span class="keyword" data-toggle="tooltip" title="int">int</span><span class="punctuation">&gt;</span> <span data-toggle="tooltip" title="LinqCheck.Gen.ChooseInt(int, int)">ChooseInt</span> <span class="punctuation">(</span><span class="keyword" data-toggle="tooltip" title="int">int</span> min<span class="punctuation">,</span> <span class="keyword" data-toggle="tooltip" title="int">int</span> max<span class="punctuation">)</span>
		<span class="punctuation">{</span>
			<span class="keyword">return</span> <span class="punctuation">(</span>rnd<span class="punctuation">,</span> size<span class="punctuation">)</span> <span class="punctuation" data-toggle="tooltip" title="lambda expression">=&gt;</span> <span data-toggle="tooltip" title="System.Random">rnd</span><span class="punctuation" data-toggle="tooltip" title="System.Random.Next(int, int)">.</span><span data-toggle="tooltip" title="System.Random.Next(int, int)">Next</span> <span class="punctuation">(</span><span data-toggle="tooltip" title="int">min</span><span class="punctuation">,</span> <span data-toggle="tooltip" title="int">max</span><span class="punctuation">)</span><span class="punctuation">;</span>
		<span class="punctuation">}</span>

        <span class="keyword" id="LinqCheck.Gen.ChooseDouble()" data-toggle="tooltip" title="LinqCheck.Gen.ChooseDouble()">public</span> <span class="keyword" data-toggle="tooltip" title="LinqCheck.Gen.ChooseDouble()">static</span> <span class="typename" data-toggle="tooltip" title="LinqCheck.Gen<double>"><a href="../src/Gen.html#T LinqCheck.Gen<T>(System.Random, int)">Gen</a></span><span class="punctuation">&lt;</span><span class="keyword" data-toggle="tooltip" title="double">double</span><span class="punctuation">&gt;</span> <span data-toggle="tooltip" title="LinqCheck.Gen.ChooseDouble()">ChooseDouble</span> <span class="punctuation">(</span><span class="punctuation">)</span>
        <span class="punctuation">{</span>
            <span class="keyword">return</span> <span class="punctuation">(</span>rnd<span class="punctuation">,</span> size<span class="punctuation">)</span> <span class="punctuation" data-toggle="tooltip" title="lambda expression">=&gt;</span> <span class="punctuation" data-toggle="tooltip" title="double">(</span><span class="punctuation" data-toggle="tooltip" title="double">(</span><span data-toggle="tooltip" title="System.Random">rnd</span><span class="punctuation" data-toggle="tooltip" title="System.Random.NextDouble()">.</span><span data-toggle="tooltip" title="System.Random.NextDouble()">NextDouble</span> <span class="punctuation">(</span><span class="punctuation">)</span> <span class="punctuation" data-toggle="tooltip" title="double">-</span> <span class="number" data-toggle="tooltip" title="double">0.5</span><span class="punctuation" data-toggle="tooltip" title="double">)</span> <span class="punctuation" data-toggle="tooltip" title="double">*</span> <span data-toggle="tooltip" title="int">size</span><span class="punctuation" data-toggle="tooltip" title="double">)</span><span class="punctuation">;</span>
        <span class="punctuation">}</span>

        <span class="keyword" id="LinqCheck.Gen.ChooseDouble(double)" data-toggle="tooltip" title="LinqCheck.Gen.ChooseDouble(double)">public</span> <span class="keyword" data-toggle="tooltip" title="LinqCheck.Gen.ChooseDouble(double)">static</span> <span class="typename" data-toggle="tooltip" title="LinqCheck.Gen<double>"><a href="../src/Gen.html#T LinqCheck.Gen<T>(System.Random, int)">Gen</a></span><span class="punctuation">&lt;</span><span class="keyword" data-toggle="tooltip" title="double">double</span><span class="punctuation">&gt;</span> <span data-toggle="tooltip" title="LinqCheck.Gen.ChooseDouble(double)">ChooseDouble</span> <span class="punctuation">(</span><span class="keyword" data-toggle="tooltip" title="double">double</span> min<span class="punctuation">)</span>
        <span class="punctuation">{</span>
            <span class="keyword">return</span> <span class="punctuation">(</span>rnd<span class="punctuation">,</span> size<span class="punctuation">)</span> <span class="punctuation" data-toggle="tooltip" title="lambda expression">=&gt;</span> <span class="punctuation" data-toggle="tooltip" title="double">(</span><span data-toggle="tooltip" title="System.Random">rnd</span><span class="punctuation" data-toggle="tooltip" title="System.Random.NextDouble()">.</span><span data-toggle="tooltip" title="System.Random.NextDouble()">NextDouble</span> <span class="punctuation">(</span><span class="punctuation">)</span> <span class="punctuation" data-toggle="tooltip" title="double">*</span> <span data-toggle="tooltip" title="int">size</span><span class="punctuation" data-toggle="tooltip" title="double">)</span> <span class="punctuation" data-toggle="tooltip" title="double">+</span> <span data-toggle="tooltip" title="double">min</span><span class="punctuation">;</span>
        <span class="punctuation">}</span>

        <span class="keyword" id="LinqCheck.Gen.ChooseDouble(double, double)" data-toggle="tooltip" title="LinqCheck.Gen.ChooseDouble(double, double)">public</span> <span class="keyword" data-toggle="tooltip" title="LinqCheck.Gen.ChooseDouble(double, double)">static</span> <span class="typename" data-toggle="tooltip" title="LinqCheck.Gen<double>"><a href="../src/Gen.html#T LinqCheck.Gen<T>(System.Random, int)">Gen</a></span><span class="punctuation">&lt;</span><span class="keyword" data-toggle="tooltip" title="double">double</span><span class="punctuation">&gt;</span> <span data-toggle="tooltip" title="LinqCheck.Gen.ChooseDouble(double, double)">ChooseDouble</span> <span class="punctuation">(</span><span class="keyword" data-toggle="tooltip" title="double">double</span> min<span class="punctuation">,</span> <span class="keyword" data-toggle="tooltip" title="double">double</span> max<span class="punctuation">)</span>
		<span class="punctuation">{</span>
			<span class="keyword">return</span> <span class="punctuation">(</span>rnd<span class="punctuation">,</span> size<span class="punctuation">)</span> <span class="punctuation" data-toggle="tooltip" title="lambda expression">=&gt;</span> <span class="punctuation" data-toggle="tooltip" title="double">(</span><span data-toggle="tooltip" title="System.Random">rnd</span><span class="punctuation" data-toggle="tooltip" title="System.Random.NextDouble()">.</span><span data-toggle="tooltip" title="System.Random.NextDouble()">NextDouble</span> <span class="punctuation">(</span><span class="punctuation">)</span> <span class="punctuation" data-toggle="tooltip" title="double">*</span> <span class="punctuation" data-toggle="tooltip" title="double">(</span><span data-toggle="tooltip" title="double">max</span> <span class="punctuation" data-toggle="tooltip" title="double">-</span> <span data-toggle="tooltip" title="double">min</span><span class="punctuation" data-toggle="tooltip" title="double">)</span><span class="punctuation" data-toggle="tooltip" title="double">)</span> <span class="punctuation" data-toggle="tooltip" title="double">+</span> <span data-toggle="tooltip" title="double">min</span><span class="punctuation">;</span>
		<span class="punctuation">}</span>
</code></pre>
<h2 id="choosing-a-value-from-a-predefined-set">Choosing a Value from a Predefined Set</h2>
<p>Another way to generate a random value is to select it from a predefined
set. This set can be given as an array or as an IEnumerable.</p>
<pre class="csharp"><code class="csharp">		<span class="keyword" id="LinqCheck.Gen.ChooseFrom<T>(T[])" data-toggle="tooltip" title="LinqCheck.Gen.ChooseFrom<T>(params T[])">public</span> <span class="keyword" data-toggle="tooltip" title="LinqCheck.Gen.ChooseFrom<T>(params T[])">static</span> <span class="typename" data-toggle="tooltip" title="LinqCheck.Gen<T>"><a href="../src/Gen.html#T LinqCheck.Gen<T>(System.Random, int)">Gen</a></span><span class="punctuation">&lt;</span><span class="typename" data-toggle="tooltip" title="T"><a href="../src/Gen.html#T">T</a></span><span class="punctuation">&gt;</span> <span data-toggle="tooltip" title="LinqCheck.Gen.ChooseFrom<T>(params T[])">ChooseFrom</span><span class="punctuation">&lt;</span><span class="typename"><a href="../src/Gen.html#T">T</a></span><span class="punctuation">&gt;</span> <span class="punctuation">(</span><span class="keyword">params</span> <span class="typename" data-toggle="tooltip" title="T"><a href="../src/Gen.html#T">T</a></span><span class="punctuation">[</span><span class="punctuation">]</span> values<span class="punctuation">)</span>
		<span class="punctuation">{</span>
			<span class="keyword">return</span> <span class="punctuation">(</span>rnd<span class="punctuation">,</span> size<span class="punctuation">)</span> <span class="punctuation" data-toggle="tooltip" title="lambda expression">=&gt;</span> <span data-toggle="tooltip" title="T[]">values</span><span class="punctuation">[</span><span data-toggle="tooltip" title="System.Random">rnd</span><span class="punctuation" data-toggle="tooltip" title="System.Random.Next(int)">.</span><span data-toggle="tooltip" title="System.Random.Next(int)">Next</span> <span class="punctuation">(</span><span data-toggle="tooltip" title="T[]">values</span><span class="punctuation" data-toggle="tooltip" title="int">.</span><span data-toggle="tooltip" title="int">Length</span><span class="punctuation">)</span><span class="punctuation">]</span><span class="punctuation">;</span>
		<span class="punctuation">}</span>

		<span class="keyword" id="LinqCheck.Gen.ElementOf<T>(System.Collections.Generic.IEnumerable<T>)" data-toggle="tooltip" title="LinqCheck.Gen.ElementOf<T>(System.Collections.Generic.IEnumerable<T>)">public</span> <span class="keyword" data-toggle="tooltip" title="LinqCheck.Gen.ElementOf<T>(System.Collections.Generic.IEnumerable<T>)">static</span> <span class="typename" data-toggle="tooltip" title="LinqCheck.Gen<T>"><a href="../src/Gen.html#T LinqCheck.Gen<T>(System.Random, int)">Gen</a></span><span class="punctuation">&lt;</span><span class="typename" data-toggle="tooltip" title="T"><a href="../src/Gen.html#T">T</a></span><span class="punctuation">&gt;</span> <span data-toggle="tooltip" title="LinqCheck.Gen.ElementOf<T>(System.Collections.Generic.IEnumerable<T>)">ElementOf</span><span class="punctuation">&lt;</span><span class="typename"><a href="../src/Gen.html#T">T</a></span><span class="punctuation">&gt;</span> <span class="punctuation">(</span><span class="typename" data-toggle="tooltip" title="System.Collections.Generic.IEnumerable<T>">IEnumerable</span><span class="punctuation">&lt;</span><span class="typename" data-toggle="tooltip" title="T"><a href="../src/Gen.html#T">T</a></span><span class="punctuation">&gt;</span> enumerable<span class="punctuation">)</span>
		<span class="punctuation">{</span>
			<span class="keyword">return</span> <span data-toggle="tooltip" title="LinqCheck.Gen.ChooseFrom<T>(params T[])"><a href="../src/Gen.html#LinqCheck.Gen.ChooseFrom<T>(T[])">ChooseFrom</a></span> <span class="punctuation">(</span><span data-toggle="tooltip" title="System.Collections.Generic.IEnumerable<T>">enumerable</span><span class="punctuation" data-toggle="tooltip" title="System.Collections.Generic.IEnumerable<T>.ToArray<T>()">.</span><span data-toggle="tooltip" title="System.Collections.Generic.IEnumerable<T>.ToArray<T>()">ToArray</span> <span class="punctuation">(</span><span class="punctuation">)</span><span class="punctuation">)</span><span class="punctuation">;</span>
		<span class="punctuation">}</span>
</code></pre>
<h2 id="converting-generators">Converting Generators</h2>
<p>We need also to do type conversions between the generators. The
following methods are defined mostly for convenience, to avoid
boilerplate code when constructing generators.</p>
<pre class="csharp"><code class="csharp">		<span class="keyword" id="LinqCheck.Gen.Cast<T, U>(LinqCheck.Gen<T>)" data-toggle="tooltip" title="LinqCheck.Gen.Cast<T, U>(LinqCheck.Gen<T>)">public</span> <span class="keyword" data-toggle="tooltip" title="LinqCheck.Gen.Cast<T, U>(LinqCheck.Gen<T>)">static</span> <span class="typename" data-toggle="tooltip" title="LinqCheck.Gen<U>"><a href="../src/Gen.html#T LinqCheck.Gen<T>(System.Random, int)">Gen</a></span><span class="punctuation">&lt;</span><span class="typename" data-toggle="tooltip" title="U"><a href="../src/Gen.html#U">U</a></span><span class="punctuation">&gt;</span> <span data-toggle="tooltip" title="LinqCheck.Gen.Cast<T, U>(LinqCheck.Gen<T>)">Cast</span><span class="punctuation">&lt;</span><span class="typename"><a href="../src/Gen.html#T">T</a></span><span class="punctuation">,</span> <span class="typename"><a href="../src/Gen.html#U">U</a></span><span class="punctuation">&gt;</span> <span class="punctuation">(</span><span class="keyword">this</span> <span class="typename" data-toggle="tooltip" title="LinqCheck.Gen<T>"><a href="../src/Gen.html#T LinqCheck.Gen<T>(System.Random, int)">Gen</a></span><span class="punctuation">&lt;</span><span class="typename" data-toggle="tooltip" title="T"><a href="../src/Gen.html#T">T</a></span><span class="punctuation">&gt;</span> gen<span class="punctuation">)</span> <span class="keyword">where</span> <span class="typename" data-toggle="tooltip" title="T"><a href="../src/Gen.html#T">T</a></span> <span class="punctuation">:</span> <span class="typename" data-toggle="tooltip" title="U"><a href="../src/Gen.html#U">U</a></span>
		<span class="punctuation">{</span>
			<span class="keyword">return</span> <span data-toggle="tooltip" title="LinqCheck.Gen<T>">gen</span><span class="punctuation" data-toggle="tooltip" title="LinqCheck.Gen<T>.Bind<T, U>(System.Func<T, LinqCheck.Gen<U>>)">.</span><span data-toggle="tooltip" title="LinqCheck.Gen<T>.Bind<T, U>(System.Func<T, LinqCheck.Gen<U>>)"><a href="../src/Gen.html#LinqCheck.Gen.Bind<T, U>(LinqCheck.Gen<T>, System.Func<T, LinqCheck.Gen<U>>)">Bind</a></span> <span class="punctuation">(</span>x <span class="punctuation" data-toggle="tooltip" title="lambda expression">=&gt;</span> <span class="punctuation" data-toggle="tooltip" title="U">(</span><span class="punctuation" data-toggle="tooltip" title="U">(</span><span class="typename" data-toggle="tooltip" title="U"><a href="../src/Gen.html#U">U</a></span><span class="punctuation" data-toggle="tooltip" title="U">)</span><span data-toggle="tooltip" title="T">x</span><span class="punctuation" data-toggle="tooltip" title="U">)</span><span class="punctuation" data-toggle="tooltip" title="U.ToGen<U>()">.</span><span data-toggle="tooltip" title="U.ToGen<U>()"><a href="../src/Gen.html#LinqCheck.Gen.ToGen<T>(T)">ToGen</a></span> <span class="punctuation">(</span><span class="punctuation">)</span><span class="punctuation">)</span><span class="punctuation">;</span>
		<span class="punctuation">}</span>

		<span class="keyword" id="LinqCheck.Gen.ToLong(LinqCheck.Gen<int>)" data-toggle="tooltip" title="LinqCheck.Gen.ToLong(LinqCheck.Gen<int>)">public</span> <span class="keyword" data-toggle="tooltip" title="LinqCheck.Gen.ToLong(LinqCheck.Gen<int>)">static</span> <span class="typename" data-toggle="tooltip" title="LinqCheck.Gen<long>"><a href="../src/Gen.html#T LinqCheck.Gen<T>(System.Random, int)">Gen</a></span><span class="punctuation">&lt;</span><span class="keyword" data-toggle="tooltip" title="long">long</span><span class="punctuation">&gt;</span> <span data-toggle="tooltip" title="LinqCheck.Gen.ToLong(LinqCheck.Gen<int>)">ToLong</span> <span class="punctuation">(</span><span class="keyword">this</span> <span class="typename" data-toggle="tooltip" title="LinqCheck.Gen<int>"><a href="../src/Gen.html#T LinqCheck.Gen<T>(System.Random, int)">Gen</a></span><span class="punctuation">&lt;</span><span class="keyword" data-toggle="tooltip" title="int">int</span><span class="punctuation">&gt;</span> gen<span class="punctuation">)</span>
		<span class="punctuation">{</span>
			<span class="keyword">return</span> <span data-toggle="tooltip" title="LinqCheck.Gen<int>">gen</span><span class="punctuation" data-toggle="tooltip" title="LinqCheck.Gen<int>.Bind<int, long>(System.Func<int, LinqCheck.Gen<long>>)">.</span><span data-toggle="tooltip" title="LinqCheck.Gen<int>.Bind<int, long>(System.Func<int, LinqCheck.Gen<long>>)"><a href="../src/Gen.html#LinqCheck.Gen.Bind<T, U>(LinqCheck.Gen<T>, System.Func<T, LinqCheck.Gen<U>>)">Bind</a></span> <span class="punctuation">(</span>x <span class="punctuation" data-toggle="tooltip" title="lambda expression">=&gt;</span> <span class="punctuation" data-toggle="tooltip" title="long">(</span><span class="punctuation" data-toggle="tooltip" title="long">(</span><span class="keyword" data-toggle="tooltip" title="long">long</span><span class="punctuation" data-toggle="tooltip" title="long">)</span><span data-toggle="tooltip" title="int">x</span><span class="punctuation" data-toggle="tooltip" title="long">)</span><span class="punctuation" data-toggle="tooltip" title="long.ToGen<long>()">.</span><span data-toggle="tooltip" title="long.ToGen<long>()"><a href="../src/Gen.html#LinqCheck.Gen.ToGen<T>(T)">ToGen</a></span> <span class="punctuation">(</span><span class="punctuation">)</span><span class="punctuation">)</span><span class="punctuation">;</span>
		<span class="punctuation">}</span>

		<span class="keyword" id="LinqCheck.Gen.ToFloat(LinqCheck.Gen<double>)" data-toggle="tooltip" title="LinqCheck.Gen.ToFloat(LinqCheck.Gen<double>)">public</span> <span class="keyword" data-toggle="tooltip" title="LinqCheck.Gen.ToFloat(LinqCheck.Gen<double>)">static</span> <span class="typename" data-toggle="tooltip" title="LinqCheck.Gen<float>"><a href="../src/Gen.html#T LinqCheck.Gen<T>(System.Random, int)">Gen</a></span><span class="punctuation">&lt;</span><span class="keyword" data-toggle="tooltip" title="float">float</span><span class="punctuation">&gt;</span> <span data-toggle="tooltip" title="LinqCheck.Gen.ToFloat(LinqCheck.Gen<double>)">ToFloat</span> <span class="punctuation">(</span><span class="keyword">this</span> <span class="typename" data-toggle="tooltip" title="LinqCheck.Gen<double>"><a href="../src/Gen.html#T LinqCheck.Gen<T>(System.Random, int)">Gen</a></span><span class="punctuation">&lt;</span><span class="keyword" data-toggle="tooltip" title="double">double</span><span class="punctuation">&gt;</span> gen<span class="punctuation">)</span>
		<span class="punctuation">{</span>
			<span class="keyword">return</span> <span data-toggle="tooltip" title="LinqCheck.Gen<double>">gen</span><span class="punctuation" data-toggle="tooltip" title="LinqCheck.Gen<double>.Bind<double, float>(System.Func<double, LinqCheck.Gen<float>>)">.</span><span data-toggle="tooltip" title="LinqCheck.Gen<double>.Bind<double, float>(System.Func<double, LinqCheck.Gen<float>>)"><a href="../src/Gen.html#LinqCheck.Gen.Bind<T, U>(LinqCheck.Gen<T>, System.Func<T, LinqCheck.Gen<U>>)">Bind</a></span> <span class="punctuation">(</span>x <span class="punctuation" data-toggle="tooltip" title="lambda expression">=&gt;</span> <span class="punctuation" data-toggle="tooltip" title="float">(</span><span class="punctuation" data-toggle="tooltip" title="float">(</span><span class="keyword" data-toggle="tooltip" title="float">float</span><span class="punctuation" data-toggle="tooltip" title="float">)</span><span data-toggle="tooltip" title="double">x</span><span class="punctuation" data-toggle="tooltip" title="float">)</span><span class="punctuation" data-toggle="tooltip" title="float.ToGen<float>()">.</span><span data-toggle="tooltip" title="float.ToGen<float>()"><a href="../src/Gen.html#LinqCheck.Gen.ToGen<T>(T)">ToGen</a></span> <span class="punctuation">(</span><span class="punctuation">)</span><span class="punctuation">)</span><span class="punctuation">;</span>
		<span class="punctuation">}</span>
</code></pre>
<h2 id="generating-collections">Generating Collections</h2>
<p>Once we can generate primitive types, the next step is to generate
collections of them. Since practically all collections implement the
IEnumerable interface, we can use it as a basis to generate any
collection type.</p>
<p>First let's define an infinite sequence of values. This is the most
general collection generator from which the more restricted versions
are derived.</p>
<pre class="csharp"><code class="csharp">        <span class="keyword" id="LinqCheck.Gen.InfiniteEnumerable<T>(LinqCheck.Gen<T>, System.Random, int)" data-toggle="tooltip" title="LinqCheck.Gen.InfiniteEnumerable<T>(LinqCheck.Gen<T>, System.Random, int)">private</span> <span class="keyword" data-toggle="tooltip" title="LinqCheck.Gen.InfiniteEnumerable<T>(LinqCheck.Gen<T>, System.Random, int)">static</span> <span class="typename" data-toggle="tooltip" title="System.Collections.Generic.IEnumerable<T>">IEnumerable</span><span class="punctuation">&lt;</span><span class="typename" data-toggle="tooltip" title="T"><a href="../src/Gen.html#T">T</a></span><span class="punctuation">&gt;</span> <span data-toggle="tooltip" title="LinqCheck.Gen.InfiniteEnumerable<T>(LinqCheck.Gen<T>, System.Random, int)">InfiniteEnumerable</span><span class="punctuation">&lt;</span><span class="typename"><a href="../src/Gen.html#T">T</a></span><span class="punctuation">&gt;</span> <span class="punctuation">(</span><span class="typename" data-toggle="tooltip" title="LinqCheck.Gen<T>"><a href="../src/Gen.html#T LinqCheck.Gen<T>(System.Random, int)">Gen</a></span><span class="punctuation">&lt;</span><span class="typename" data-toggle="tooltip" title="T"><a href="../src/Gen.html#T">T</a></span><span class="punctuation">&gt;</span> gen<span class="punctuation">,</span> 
			<span class="typename" data-toggle="tooltip" title="System.Random">Random</span> rnd<span class="punctuation">,</span> <span class="keyword" data-toggle="tooltip" title="int">int</span> size<span class="punctuation">)</span>
        <span class="punctuation">{</span>
            <span class="keyword">while</span> <span class="punctuation">(</span><span class="keyword" data-toggle="tooltip" title="bool">true</span><span class="punctuation">)</span> <span class="keyword">yield</span> <span class="keyword">return</span> <span data-toggle="tooltip" title="LinqCheck.Gen<T>">gen</span> <span class="punctuation">(</span><span data-toggle="tooltip" title="System.Random">rnd</span><span class="punctuation">,</span> <span data-toggle="tooltip" title="int">size</span><span class="punctuation">)</span><span class="punctuation">;</span>
        <span class="punctuation">}</span>
</code></pre>
<p>The second variant returns the specified number of random values.</p>
<pre class="csharp"><code class="csharp">        <span class="keyword" id="LinqCheck.Gen.FixedEnumerable<T>(LinqCheck.Gen<T>, System.Random, int, int)" data-toggle="tooltip" title="LinqCheck.Gen.FixedEnumerable<T>(LinqCheck.Gen<T>, System.Random, int, int)">private</span> <span class="keyword" data-toggle="tooltip" title="LinqCheck.Gen.FixedEnumerable<T>(LinqCheck.Gen<T>, System.Random, int, int)">static</span> <span class="typename" data-toggle="tooltip" title="System.Collections.Generic.IEnumerable<T>">IEnumerable</span><span class="punctuation">&lt;</span><span class="typename" data-toggle="tooltip" title="T"><a href="../src/Gen.html#T">T</a></span><span class="punctuation">&gt;</span> <span data-toggle="tooltip" title="LinqCheck.Gen.FixedEnumerable<T>(LinqCheck.Gen<T>, System.Random, int, int)">FixedEnumerable</span><span class="punctuation">&lt;</span><span class="typename"><a href="../src/Gen.html#T">T</a></span><span class="punctuation">&gt;</span> <span class="punctuation">(</span><span class="typename" data-toggle="tooltip" title="LinqCheck.Gen<T>"><a href="../src/Gen.html#T LinqCheck.Gen<T>(System.Random, int)">Gen</a></span><span class="punctuation">&lt;</span><span class="typename" data-toggle="tooltip" title="T"><a href="../src/Gen.html#T">T</a></span><span class="punctuation">&gt;</span> gen<span class="punctuation">,</span> 
			<span class="typename" data-toggle="tooltip" title="System.Random">Random</span> rnd<span class="punctuation">,</span> <span class="keyword" data-toggle="tooltip" title="int">int</span> size<span class="punctuation">,</span> <span class="keyword" data-toggle="tooltip" title="int">int</span> length<span class="punctuation">)</span>
        <span class="punctuation">{</span>
            <span class="keyword">return</span> <span data-toggle="tooltip" title="LinqCheck.Gen.InfiniteEnumerable<T>(LinqCheck.Gen<T>, System.Random, int)"><a href="../src/Gen.html#LinqCheck.Gen.InfiniteEnumerable<T>(LinqCheck.Gen<T>, System.Random, int)">InfiniteEnumerable</a></span> <span class="punctuation">(</span><span data-toggle="tooltip" title="LinqCheck.Gen<T>">gen</span><span class="punctuation">,</span> <span data-toggle="tooltip" title="System.Random">rnd</span><span class="punctuation">,</span> <span data-toggle="tooltip" title="int">size</span><span class="punctuation">)</span><span class="punctuation" data-toggle="tooltip" title="System.Collections.Generic.IEnumerable<T>.Take<T>(int)">.</span><span data-toggle="tooltip" title="System.Collections.Generic.IEnumerable<T>.Take<T>(int)">Take</span> <span class="punctuation">(</span><span data-toggle="tooltip" title="int">length</span><span class="punctuation">)</span><span class="punctuation">;</span>
        <span class="punctuation">}</span>
</code></pre>
<p>And the third variant returns a finite but random number of elements.</p>
<pre class="csharp"><code class="csharp">		<span class="keyword" id="LinqCheck.Gen.RandomEnumerable<T>(LinqCheck.Gen<T>, System.Random, int)" data-toggle="tooltip" title="LinqCheck.Gen.RandomEnumerable<T>(LinqCheck.Gen<T>, System.Random, int)">private</span> <span class="keyword" data-toggle="tooltip" title="LinqCheck.Gen.RandomEnumerable<T>(LinqCheck.Gen<T>, System.Random, int)">static</span> <span class="typename" data-toggle="tooltip" title="System.Collections.Generic.IEnumerable<T>">IEnumerable</span><span class="punctuation">&lt;</span><span class="typename" data-toggle="tooltip" title="T"><a href="../src/Gen.html#T">T</a></span><span class="punctuation">&gt;</span> <span data-toggle="tooltip" title="LinqCheck.Gen.RandomEnumerable<T>(LinqCheck.Gen<T>, System.Random, int)">RandomEnumerable</span><span class="punctuation">&lt;</span><span class="typename"><a href="../src/Gen.html#T">T</a></span><span class="punctuation">&gt;</span> <span class="punctuation">(</span><span class="typename" data-toggle="tooltip" title="LinqCheck.Gen<T>"><a href="../src/Gen.html#T LinqCheck.Gen<T>(System.Random, int)">Gen</a></span><span class="punctuation">&lt;</span><span class="typename" data-toggle="tooltip" title="T"><a href="../src/Gen.html#T">T</a></span><span class="punctuation">&gt;</span> gen<span class="punctuation">,</span> 
			<span class="typename" data-toggle="tooltip" title="System.Random">Random</span> rnd<span class="punctuation">,</span> <span class="keyword" data-toggle="tooltip" title="int">int</span> size<span class="punctuation">)</span>
		<span class="punctuation">{</span>
            <span class="keyword">return</span> <span data-toggle="tooltip" title="LinqCheck.Gen.FixedEnumerable<T>(LinqCheck.Gen<T>, System.Random, int, int)"><a href="../src/Gen.html#LinqCheck.Gen.FixedEnumerable<T>(LinqCheck.Gen<T>, System.Random, int, int)">FixedEnumerable</a></span> <span class="punctuation">(</span><span data-toggle="tooltip" title="LinqCheck.Gen<T>">gen</span><span class="punctuation">,</span> <span data-toggle="tooltip" title="System.Random">rnd</span><span class="punctuation">,</span> <span data-toggle="tooltip" title="int">size</span><span class="punctuation">,</span> <span data-toggle="tooltip" title="System.Random">rnd</span><span class="punctuation" data-toggle="tooltip" title="System.Random.Next(int)">.</span><span data-toggle="tooltip" title="System.Random.Next(int)">Next</span> <span class="punctuation">(</span><span data-toggle="tooltip" title="int">size</span><span class="punctuation">)</span><span class="punctuation">)</span><span class="punctuation">;</span>
		<span class="punctuation">}</span>
</code></pre>
<p>The following version takes the limits from the generator's arguments.
It is the easiest way to convert a generator into a collection
generator.</p>
<pre class="csharp"><code class="csharp">		<span class="keyword" id="LinqCheck.Gen.EnumerableOf<T>(LinqCheck.Gen<T>)" data-toggle="tooltip" title="LinqCheck.Gen.EnumerableOf<T>(LinqCheck.Gen<T>)">public</span> <span class="keyword" data-toggle="tooltip" title="LinqCheck.Gen.EnumerableOf<T>(LinqCheck.Gen<T>)">static</span> <span class="typename" data-toggle="tooltip" title="LinqCheck.Gen<System.Collections.Generic.IEnumerable<T>>"><a href="../src/Gen.html#T LinqCheck.Gen<T>(System.Random, int)">Gen</a></span><span class="punctuation">&lt;</span><span class="typename" data-toggle="tooltip" title="System.Collections.Generic.IEnumerable<T>">IEnumerable</span><span class="punctuation">&lt;</span><span class="typename" data-toggle="tooltip" title="T"><a href="../src/Gen.html#T">T</a></span><span class="punctuation">&gt;</span><span class="punctuation">&gt;</span> <span data-toggle="tooltip" title="LinqCheck.Gen.EnumerableOf<T>(LinqCheck.Gen<T>)">EnumerableOf</span><span class="punctuation">&lt;</span><span class="typename"><a href="../src/Gen.html#T">T</a></span><span class="punctuation">&gt;</span> <span class="punctuation">(</span><span class="keyword">this</span> <span class="typename" data-toggle="tooltip" title="LinqCheck.Gen<T>"><a href="../src/Gen.html#T LinqCheck.Gen<T>(System.Random, int)">Gen</a></span><span class="punctuation">&lt;</span><span class="typename" data-toggle="tooltip" title="T"><a href="../src/Gen.html#T">T</a></span><span class="punctuation">&gt;</span> gen<span class="punctuation">)</span>
		<span class="punctuation">{</span>
			<span class="keyword">return</span> <span class="punctuation">(</span>rnd<span class="punctuation">,</span> size<span class="punctuation">)</span> <span class="punctuation" data-toggle="tooltip" title="lambda expression">=&gt;</span> <span data-toggle="tooltip" title="LinqCheck.Gen.RandomEnumerable<T>(LinqCheck.Gen<T>, System.Random, int)"><a href="../src/Gen.html#LinqCheck.Gen.RandomEnumerable<T>(LinqCheck.Gen<T>, System.Random, int)">RandomEnumerable</a></span> <span class="punctuation">(</span><span data-toggle="tooltip" title="LinqCheck.Gen<T>">gen</span><span class="punctuation">,</span> <span data-toggle="tooltip" title="System.Random">rnd</span><span class="punctuation">,</span> <span data-toggle="tooltip" title="int">size</span><span class="punctuation">)</span><span class="punctuation">;</span>
		<span class="punctuation">}</span>
</code></pre>
<p>Below are the corresponding generators for arrays. They utilize the
IEnumerable generators and the extension methods defined in
<a href="https://msdn.microsoft.com/en-us/library/system.linq.enumerable(v=vs.110).aspx">System.Linq.Enumerable</a>
and <a href="https://johtela.github.io/ExtensionCord/">ExtensionCord</a> library.</p>
<pre class="csharp"><code class="csharp">		<span class="keyword" id="LinqCheck.Gen.ArrayOf<T>(LinqCheck.Gen<T>)" data-toggle="tooltip" title="LinqCheck.Gen.ArrayOf<T>(LinqCheck.Gen<T>)">public</span> <span class="keyword" data-toggle="tooltip" title="LinqCheck.Gen.ArrayOf<T>(LinqCheck.Gen<T>)">static</span> <span class="typename" data-toggle="tooltip" title="LinqCheck.Gen<T[]>"><a href="../src/Gen.html#T LinqCheck.Gen<T>(System.Random, int)">Gen</a></span><span class="punctuation">&lt;</span><span class="typename" data-toggle="tooltip" title="T"><a href="../src/Gen.html#T">T</a></span><span class="punctuation">[</span><span class="punctuation">]</span><span class="punctuation">&gt;</span> <span data-toggle="tooltip" title="LinqCheck.Gen.ArrayOf<T>(LinqCheck.Gen<T>)">ArrayOf</span><span class="punctuation">&lt;</span><span class="typename"><a href="../src/Gen.html#T">T</a></span><span class="punctuation">&gt;</span> <span class="punctuation">(</span><span class="keyword">this</span> <span class="typename" data-toggle="tooltip" title="LinqCheck.Gen<T>"><a href="../src/Gen.html#T LinqCheck.Gen<T>(System.Random, int)">Gen</a></span><span class="punctuation">&lt;</span><span class="typename" data-toggle="tooltip" title="T"><a href="../src/Gen.html#T">T</a></span><span class="punctuation">&gt;</span> gen<span class="punctuation">)</span>
		<span class="punctuation">{</span>
			<span class="keyword">return</span> <span class="punctuation">(</span>rnd<span class="punctuation">,</span> size<span class="punctuation">)</span> <span class="punctuation" data-toggle="tooltip" title="lambda expression">=&gt;</span> <span data-toggle="tooltip" title="LinqCheck.Gen.RandomEnumerable<T>(LinqCheck.Gen<T>, System.Random, int)"><a href="../src/Gen.html#LinqCheck.Gen.RandomEnumerable<T>(LinqCheck.Gen<T>, System.Random, int)">RandomEnumerable</a></span> <span class="punctuation">(</span><span data-toggle="tooltip" title="LinqCheck.Gen<T>">gen</span><span class="punctuation">,</span> <span data-toggle="tooltip" title="System.Random">rnd</span><span class="punctuation">,</span> <span data-toggle="tooltip" title="int">size</span><span class="punctuation">)</span><span class="punctuation" data-toggle="tooltip" title="System.Collections.Generic.IEnumerable<T>.ToArray<T>()">.</span><span data-toggle="tooltip" title="System.Collections.Generic.IEnumerable<T>.ToArray<T>()">ToArray</span> <span class="punctuation">(</span><span class="punctuation">)</span><span class="punctuation">;</span>
		<span class="punctuation">}</span>

        <span class="keyword" id="LinqCheck.Gen.FixedArrayOf<T>(LinqCheck.Gen<T>, int)" data-toggle="tooltip" title="LinqCheck.Gen.FixedArrayOf<T>(LinqCheck.Gen<T>, int)">public</span> <span class="keyword" data-toggle="tooltip" title="LinqCheck.Gen.FixedArrayOf<T>(LinqCheck.Gen<T>, int)">static</span> <span class="typename" data-toggle="tooltip" title="LinqCheck.Gen<T[]>"><a href="../src/Gen.html#T LinqCheck.Gen<T>(System.Random, int)">Gen</a></span><span class="punctuation">&lt;</span><span class="typename" data-toggle="tooltip" title="T"><a href="../src/Gen.html#T">T</a></span><span class="punctuation">[</span><span class="punctuation">]</span><span class="punctuation">&gt;</span> <span data-toggle="tooltip" title="LinqCheck.Gen.FixedArrayOf<T>(LinqCheck.Gen<T>, int)">FixedArrayOf</span><span class="punctuation">&lt;</span><span class="typename"><a href="../src/Gen.html#T">T</a></span><span class="punctuation">&gt;</span> <span class="punctuation">(</span><span class="keyword">this</span> <span class="typename" data-toggle="tooltip" title="LinqCheck.Gen<T>"><a href="../src/Gen.html#T LinqCheck.Gen<T>(System.Random, int)">Gen</a></span><span class="punctuation">&lt;</span><span class="typename" data-toggle="tooltip" title="T"><a href="../src/Gen.html#T">T</a></span><span class="punctuation">&gt;</span> gen<span class="punctuation">,</span> <span class="keyword" data-toggle="tooltip" title="int">int</span> length<span class="punctuation">)</span>
        <span class="punctuation">{</span>
            <span class="keyword">return</span> <span class="punctuation">(</span>rnd<span class="punctuation">,</span> size<span class="punctuation">)</span> <span class="punctuation" data-toggle="tooltip" title="lambda expression">=&gt;</span> <span data-toggle="tooltip" title="LinqCheck.Gen.FixedEnumerable<T>(LinqCheck.Gen<T>, System.Random, int, int)"><a href="../src/Gen.html#LinqCheck.Gen.FixedEnumerable<T>(LinqCheck.Gen<T>, System.Random, int, int)">FixedEnumerable</a></span> <span class="punctuation">(</span><span data-toggle="tooltip" title="LinqCheck.Gen<T>">gen</span><span class="punctuation">,</span> <span data-toggle="tooltip" title="System.Random">rnd</span><span class="punctuation">,</span> <span data-toggle="tooltip" title="int">size</span><span class="punctuation">,</span> <span data-toggle="tooltip" title="int">length</span><span class="punctuation">)</span>
				<span class="punctuation" data-toggle="tooltip" title="System.Collections.Generic.IEnumerable<T>.ToArray<T>()">.</span><span data-toggle="tooltip" title="System.Collections.Generic.IEnumerable<T>.ToArray<T>()">ToArray</span> <span class="punctuation">(</span><span class="punctuation">)</span><span class="punctuation">;</span>
        <span class="punctuation">}</span>

		<span class="keyword" id="LinqCheck.Gen.Fixed2DArrayOf<T>(LinqCheck.Gen<T>, int, int)" data-toggle="tooltip" title="LinqCheck.Gen.Fixed2DArrayOf<T>(LinqCheck.Gen<T>, int, int)">public</span> <span class="keyword" data-toggle="tooltip" title="LinqCheck.Gen.Fixed2DArrayOf<T>(LinqCheck.Gen<T>, int, int)">static</span> <span class="typename" data-toggle="tooltip" title="LinqCheck.Gen<T[*,*]>"><a href="../src/Gen.html#T LinqCheck.Gen<T>(System.Random, int)">Gen</a></span><span class="punctuation">&lt;</span><span class="typename" data-toggle="tooltip" title="T"><a href="../src/Gen.html#T">T</a></span><span class="punctuation">[</span><span class="punctuation">,</span><span class="punctuation">]</span><span class="punctuation">&gt;</span> <span data-toggle="tooltip" title="LinqCheck.Gen.Fixed2DArrayOf<T>(LinqCheck.Gen<T>, int, int)">Fixed2DArrayOf</span><span class="punctuation">&lt;</span><span class="typename"><a href="../src/Gen.html#T">T</a></span><span class="punctuation">&gt;</span> <span class="punctuation">(</span><span class="keyword">this</span> <span class="typename" data-toggle="tooltip" title="LinqCheck.Gen<T>"><a href="../src/Gen.html#T LinqCheck.Gen<T>(System.Random, int)">Gen</a></span><span class="punctuation">&lt;</span><span class="typename" data-toggle="tooltip" title="T"><a href="../src/Gen.html#T">T</a></span><span class="punctuation">&gt;</span> gen<span class="punctuation">,</span> 
			<span class="keyword" data-toggle="tooltip" title="int">int</span> dimension1<span class="punctuation">,</span> <span class="keyword" data-toggle="tooltip" title="int">int</span> dimension2<span class="punctuation">)</span>
        <span class="punctuation">{</span>
            <span class="keyword">return</span> <span class="punctuation">(</span>rnd<span class="punctuation">,</span> size<span class="punctuation">)</span> <span class="punctuation" data-toggle="tooltip" title="lambda expression">=&gt;</span> <span data-toggle="tooltip" title="LinqCheck.Gen.InfiniteEnumerable<T>(LinqCheck.Gen<T>, System.Random, int)"><a href="../src/Gen.html#LinqCheck.Gen.InfiniteEnumerable<T>(LinqCheck.Gen<T>, System.Random, int)">InfiniteEnumerable</a></span> <span class="punctuation">(</span><span data-toggle="tooltip" title="LinqCheck.Gen<T>">gen</span><span class="punctuation">,</span> <span data-toggle="tooltip" title="System.Random">rnd</span><span class="punctuation">,</span> <span data-toggle="tooltip" title="int">size</span><span class="punctuation">)</span>
				<span class="punctuation" data-toggle="tooltip" title="System.Collections.Generic.IEnumerable<T>.To2DArray<T>(int, int)">.</span><span data-toggle="tooltip" title="System.Collections.Generic.IEnumerable<T>.To2DArray<T>(int, int)">To2DArray</span> <span class="punctuation">(</span><span data-toggle="tooltip" title="int">dimension1</span><span class="punctuation">,</span> <span data-toggle="tooltip" title="int">dimension2</span><span class="punctuation">)</span><span class="punctuation">;</span>
        <span class="punctuation">}</span>
</code></pre>
<h2 id="choosing-between-generators">Choosing between Generators</h2>
<p>Sometimes we have more than one generator for a type, and we want to
randomly choose one of them. The <code>OneOf</code> combinator will choose a
generator from an array using even distribution. I.e. each choice
has an equal chance to be selected.</p>
<pre class="csharp"><code class="csharp">		<span class="keyword" id="LinqCheck.Gen.OneOf<T>(LinqCheck.Gen<T>[])" data-toggle="tooltip" title="LinqCheck.Gen.OneOf<T>(params LinqCheck.Gen<T>[])">public</span> <span class="keyword" data-toggle="tooltip" title="LinqCheck.Gen.OneOf<T>(params LinqCheck.Gen<T>[])">static</span> <span class="typename" data-toggle="tooltip" title="LinqCheck.Gen<T>"><a href="../src/Gen.html#T LinqCheck.Gen<T>(System.Random, int)">Gen</a></span><span class="punctuation">&lt;</span><span class="typename" data-toggle="tooltip" title="T"><a href="../src/Gen.html#T">T</a></span><span class="punctuation">&gt;</span> <span data-toggle="tooltip" title="LinqCheck.Gen.OneOf<T>(params LinqCheck.Gen<T>[])">OneOf</span><span class="punctuation">&lt;</span><span class="typename"><a href="../src/Gen.html#T">T</a></span><span class="punctuation">&gt;</span> <span class="punctuation">(</span><span class="keyword">params</span> <span class="typename" data-toggle="tooltip" title="LinqCheck.Gen<T>"><a href="../src/Gen.html#T LinqCheck.Gen<T>(System.Random, int)">Gen</a></span><span class="punctuation">&lt;</span><span class="typename" data-toggle="tooltip" title="T"><a href="../src/Gen.html#T">T</a></span><span class="punctuation">&gt;</span><span class="punctuation">[</span><span class="punctuation">]</span> gens<span class="punctuation">)</span>
		<span class="punctuation">{</span>
			<span class="keyword">return</span> <span data-toggle="tooltip" title="LinqCheck.Gen.ChooseInt(int, int)"><a href="../src/Gen.html#LinqCheck.Gen.ChooseInt(int, int)">ChooseInt</a></span> <span class="punctuation">(</span><span class="number" data-toggle="tooltip" title="int">0</span><span class="punctuation">,</span> <span data-toggle="tooltip" title="LinqCheck.Gen<T>[]">gens</span><span class="punctuation" data-toggle="tooltip" title="int">.</span><span data-toggle="tooltip" title="int">Length</span><span class="punctuation">)</span><span class="punctuation" data-toggle="tooltip" title="LinqCheck.Gen<int>.Bind<int, T>(System.Func<int, LinqCheck.Gen<T>>)">.</span><span data-toggle="tooltip" title="LinqCheck.Gen<int>.Bind<int, T>(System.Func<int, LinqCheck.Gen<T>>)"><a href="../src/Gen.html#LinqCheck.Gen.Bind<T, U>(LinqCheck.Gen<T>, System.Func<T, LinqCheck.Gen<U>>)">Bind</a></span> <span class="punctuation">(</span>i <span class="punctuation" data-toggle="tooltip" title="lambda expression">=&gt;</span> <span data-toggle="tooltip" title="LinqCheck.Gen<T>[]">gens</span><span class="punctuation">[</span><span data-toggle="tooltip" title="int">i</span><span class="punctuation">]</span><span class="punctuation">)</span><span class="punctuation">;</span>
		<span class="punctuation">}</span>
</code></pre>
<p>If you want a skewed distribution of the choices, you can use the
<code>Frequency</code> method. It allows you to specify the frequency for each
choice. The frequencies are defined as integers with relative ranges.
For example, if choice <em>A</em> has a frequency of 3 and choice <em>B</em> has 12,
choice <em>B</em> is 4 times more likely to be selected than <em>A</em>.</p>
<pre class="csharp"><code class="csharp">		<span class="keyword" id="LinqCheck.Gen.Frequency<T>(System.Tuple<int, LinqCheck.Gen<T>>[])" data-toggle="tooltip" title="LinqCheck.Gen.Frequency<T>(params System.Tuple<int, LinqCheck.Gen<T>>[])">public</span> <span class="keyword" data-toggle="tooltip" title="LinqCheck.Gen.Frequency<T>(params System.Tuple<int, LinqCheck.Gen<T>>[])">static</span> <span class="typename" data-toggle="tooltip" title="LinqCheck.Gen<T>"><a href="../src/Gen.html#T LinqCheck.Gen<T>(System.Random, int)">Gen</a></span><span class="punctuation">&lt;</span><span class="typename" data-toggle="tooltip" title="T"><a href="../src/Gen.html#T">T</a></span><span class="punctuation">&gt;</span> <span data-toggle="tooltip" title="LinqCheck.Gen.Frequency<T>(params System.Tuple<int, LinqCheck.Gen<T>>[])">Frequency</span><span class="punctuation">&lt;</span><span class="typename"><a href="../src/Gen.html#T">T</a></span><span class="punctuation">&gt;</span> <span class="punctuation">(</span><span class="keyword">params</span> <span class="typename" data-toggle="tooltip" title="System.Tuple<int, LinqCheck.Gen<T>>">Tuple</span><span class="punctuation">&lt;</span><span class="keyword" data-toggle="tooltip" title="int">int</span><span class="punctuation">,</span> <span class="typename" data-toggle="tooltip" title="LinqCheck.Gen<T>"><a href="../src/Gen.html#T LinqCheck.Gen<T>(System.Random, int)">Gen</a></span><span class="punctuation">&lt;</span><span class="typename" data-toggle="tooltip" title="T"><a href="../src/Gen.html#T">T</a></span><span class="punctuation">&gt;</span><span class="punctuation">&gt;</span><span class="punctuation">[</span><span class="punctuation">]</span> freqGens<span class="punctuation">)</span>
		<span class="punctuation">{</span>
			<span class="keyword" data-toggle="tooltip" title="int">var</span> <span id="sum">sum</span> <span class="punctuation">=</span> <span class="number" data-toggle="tooltip" title="int">0</span><span class="punctuation">;</span>
			<span class="keyword">for</span> <span class="punctuation">(</span><span class="keyword" data-toggle="tooltip" title="int">int</span> <span id="i">i</span> <span class="punctuation">=</span> <span class="number" data-toggle="tooltip" title="int">0</span><span class="punctuation">;</span> <span data-toggle="tooltip" title="int">i</span> <span class="punctuation" data-toggle="tooltip" title="bool">&lt;</span> <span data-toggle="tooltip" title="System.Tuple<int, LinqCheck.Gen<T>>[]">freqGens</span><span class="punctuation" data-toggle="tooltip" title="int">.</span><span data-toggle="tooltip" title="int">Length</span><span class="punctuation">;</span> <span data-toggle="tooltip" title="int">i</span><span class="punctuation" data-toggle="tooltip" title="int">++</span><span class="punctuation">)</span>
				<span data-toggle="tooltip" title="System.Tuple<int, LinqCheck.Gen<T>>[]">freqGens</span><span class="punctuation">[</span><span data-toggle="tooltip" title="int">i</span><span class="punctuation">]</span> <span class="punctuation" data-toggle="tooltip" title="System.Tuple<int, LinqCheck.Gen<T>>">=</span> <span class="typename" data-toggle="tooltip" title="System.Tuple">Tuple</span><span class="punctuation" data-toggle="tooltip" title="System.Tuple.Create<int, LinqCheck.Gen<T>>(int, LinqCheck.Gen<T>)">.</span><span data-toggle="tooltip" title="System.Tuple.Create<int, LinqCheck.Gen<T>>(int, LinqCheck.Gen<T>)">Create</span> <span class="punctuation">(</span><span data-toggle="tooltip" title="int">sum</span> <span class="punctuation" data-toggle="tooltip" title="int">+=</span> <span data-toggle="tooltip" title="System.Tuple<int, LinqCheck.Gen<T>>[]">freqGens</span><span class="punctuation">[</span><span class="number" data-toggle="tooltip" title="int">0</span><span class="punctuation">]</span><span class="punctuation" data-toggle="tooltip" title="int">.</span><span data-toggle="tooltip" title="int">Item1</span><span class="punctuation">,</span> 
					<span data-toggle="tooltip" title="System.Tuple<int, LinqCheck.Gen<T>>[]">freqGens</span><span class="punctuation">[</span><span data-toggle="tooltip" title="int">i</span><span class="punctuation">]</span><span class="punctuation" data-toggle="tooltip" title="LinqCheck.Gen<T>">.</span><span data-toggle="tooltip" title="LinqCheck.Gen<T>">Item2</span><span class="punctuation">)</span><span class="punctuation">;</span>
			<span class="keyword">return</span> <span data-toggle="tooltip" title="LinqCheck.Gen.ChooseInt(int, int)"><a href="../src/Gen.html#LinqCheck.Gen.ChooseInt(int, int)">ChooseInt</a></span> <span class="punctuation">(</span><span class="number" data-toggle="tooltip" title="int">1</span><span class="punctuation">,</span> <span data-toggle="tooltip" title="int">sum</span><span class="punctuation">)</span><span class="punctuation" data-toggle="tooltip" title="LinqCheck.Gen<int>.Bind<int, T>(System.Func<int, LinqCheck.Gen<T>>)">.</span><span data-toggle="tooltip" title="LinqCheck.Gen<int>.Bind<int, T>(System.Func<int, LinqCheck.Gen<T>>)"><a href="../src/Gen.html#LinqCheck.Gen.Bind<T, U>(LinqCheck.Gen<T>, System.Func<T, LinqCheck.Gen<U>>)">Bind</a></span> <span class="punctuation">(</span>x <span class="punctuation" data-toggle="tooltip" title="lambda expression">=&gt;</span> 
				<span data-toggle="tooltip" title="System.Tuple<int, LinqCheck.Gen<T>>[]">freqGens</span><span class="punctuation" data-toggle="tooltip" title="System.Collections.Generic.IEnumerable<System.Tuple<int, LinqCheck.Gen<T>>>.First<System.Tuple<int, LinqCheck.Gen<T>>>(System.Func<System.Tuple<int, LinqCheck.Gen<T>>, bool>)">.</span><span data-toggle="tooltip" title="System.Collections.Generic.IEnumerable<System.Tuple<int, LinqCheck.Gen<T>>>.First<System.Tuple<int, LinqCheck.Gen<T>>>(System.Func<System.Tuple<int, LinqCheck.Gen<T>>, bool>)">First</span> <span class="punctuation">(</span>fg <span class="punctuation" data-toggle="tooltip" title="lambda expression">=&gt;</span> <span data-toggle="tooltip" title="System.Tuple<int, LinqCheck.Gen<T>>">fg</span><span class="punctuation" data-toggle="tooltip" title="int">.</span><span data-toggle="tooltip" title="int">Item1</span> <span class="punctuation" data-toggle="tooltip" title="bool">&gt;=</span> <span data-toggle="tooltip" title="int">x</span><span class="punctuation">)</span><span class="punctuation" data-toggle="tooltip" title="LinqCheck.Gen<T>">.</span><span data-toggle="tooltip" title="LinqCheck.Gen<T>">Item2</span><span class="punctuation">)</span><span class="punctuation">;</span>
		<span class="punctuation">}</span>
	<span class="punctuation">}</span>
<span class="punctuation">}</span>
</code></pre>
<h2 id="generators-are-deterministic">Generators Are Deterministic</h2>
<p>Before wrapping up the chapter, let's discuss the requirement of determinism.
Generators are not truly random; their output depends on the seed provided to
the instance of the Random class that we pass around. To put it differently,
they produce <a href="https://en.wikipedia.org/wiki/Pseudorandom_number_generator"><em>pseudorandom</em></a>
values.</p>
<p>This is important because we want to be able to generate a same sequence
of values multiple times when we are generating test data. All of the
combinators work deterministically. They extract random numbers from the <code>rnd</code>
object and pass it around in the same manner every time they are called. This
ensures that whatever generator we compose, given the same seed, it will
generate the same value.</p>

				</div>
				<ul class="pager">
	<li class="previous"><a href="../Examples/RunTests.html">Previous: Running the Tests</a></li>
	<li class="next"><a href="../src/Arbitrary.html">Next: Generating and Shrinking Arbitrary Values</a></li>
</ul>
			</div>
        </div>
    </div>
    
    <footer class="panel-footer text-center">
        <div align="center">Copyright © 2018 Tommi Johtela</div>
		<div align="right">
			<small>
				Documentation created with <a href="https://johtela.github.io/LiterateProgramming/">Literate Programming</a>.
			</small>
		</div>
    </footer>


    
    <script src="../bootstrap/js/jquery.min.js"></script>
    <script src="../bootstrap/js/bootstrap.min.js"></script>
    <script src="../sidebar/sidebar.js"></script>
    <script src="../syntax-highlight/syntax.js"></script>
    <script type="text/x-mathjax-config">
        MathJax.Hub.Config({
        extensions: ["jsMath2jax.js"]
        });
    </script>
    <script src='https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS_HTML'></script>
	<script src="../mermaid/mermaid.min.js"></script>
	<script>mermaid.initialize({startOnLoad:true});</script>
</body>
</html>